(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{"136":function(n,e,t){"use strict";t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return c})),t.d(e,"d",(function(){return d})),t.d(e,"e",(function(){return isBoolean})),t.d(e,"f",(function(){return isFunction})),t.d(e,"g",(function(){return isNumber})),t.d(e,"h",(function(){return isObject})),t.d(e,"i",(function(){return isString})),t.d(e,"j",(function(){return isUndef})),t.d(e,"k",(function(){return l})),t.d(e,"l",(function(){return f})),t.d(e,"m",(function(){return strictOf}));var r,u=t(6);!function(n){n.WEAPP="WEAPP",n.WEB="WEB",n.RN="RN",n.SWAN="SWAN",n.ALIPAY="ALIPAY",n.TT="TT",n.QQ="QQ",n.JD="JD"}(r||(r={}));r.WEAPP,r.WEB,r.RN,r.SWAN,r.ALIPAY,r.TT,r.QQ,r.JD;var o="🎮[taro-hooks]",i="react",c="vue"===i,a="react"===i,s=("\n/**\n MIT License\n\n Copyright (c) ".concat((new Date).getFullYear()," innocces\n\n Power by TARO-HOOKS\n */\n"),"color: #8843e7; font-weight: bold;");function logCtor(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){"string"==typeof e?console.debug("%c".concat(o,"---").concat(e),s+n):console.debug(o,"---",e)}))}}var l=logCtor(),f=logCtor("color: #d14; text-decoration: underline;");function isObject(n){return null!==n&&"object"===Object(u.a)(n)}function isFunction(n){return"function"==typeof n}function isString(n){return"string"==typeof n}function isBoolean(n){return"boolean"==typeof n}function isNumber(n){return"number"==typeof n}function isUndef(n){return void 0===n}function strictOf(n,e){return Object.prototype.toString.call(n)==="[object ".concat(function camelIndex(n){return isString(n)?n.replace(/^([a-z]{1})/,(function(n,e){var t;return e?null==e||null===(t=e.toUpperCase)||void 0===t?void 0:t.call(e):null})):n}(e),"]")}var d=function escapeState(n){return function isRef(n){return!(!n||!0!==n.__v_isRef)}(n)?n.value:n}},"150":function(n,e,t){"use strict";var r=t(17),u=(t(173),t(174)),o=(t(10),t(133)),i=t(140),c=t(26),a=(t(151),t(138));e.a=function DemoContent(n){var e=n.title,t=n.desc,s=n.children,l=c.a.useRouter().params,f=function transferParams(n){return Object.fromEntries(Object.entries(n).map((function(n){var e=Object(r.a)(n,2),t=e[0],u=e[1];return[t,decodeURIComponent(u)]})))}(void 0===l?{}:l),d=f.title,v=f.onlyMini;return Object(a.jsxs)(a.Fragment,{"children":[Boolean(+v)&&Object(a.jsxs)(u.a,{"scrollable":!0,"children":[Object(a.jsx)(u.a.Icon,{"children":Object(a.jsx)(i.k,{})}),"该hook仅可在小程序使用"]}),Object(a.jsxs)(o.l,{"className":"demo-content","children":[Object(a.jsx)(o.l,{"className":"demo-content-title","children":null!=d?d:e}),Object(a.jsx)(o.l,{"className":"demo-content-desc","children":t}),Object(a.jsx)(o.l,{"className":"demo-content-wrapper","children":s})]})]})}},"151":function(n,e,t){},"163":function(n,e,t){"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return u})),t.d(e,"a",(function(){return i}));var r=new Map,u=function setCache(n,e,t){var u=r.get(n);null!=u&&u.timer&&clearTimeout(u.timer);var o=void 0;e>-1&&(o=setTimeout((function(){r.delete(n)}),e)),r.set(n,_extends({},t,{"timer":o}))},o=function getCache(n){return r.get(n)},i=function clearCache(n){n?(Array.isArray(n)?n:[n]).forEach((function(n){return r.delete(n)})):r.clear()}},"181":function(n,e,t){"use strict";var r=t(26);e.a=function useVisible(){var n=r.a.useTaroState(!0),e=n[0],t=n[1],u=function listenVisible(){var n=document.visibilityState;t("visible"===n)};return r.a.useTaroEffect((function(){return window.addEventListener("visibilitychange",u,!1),window.addEventListener("focus",u,!1),window.addEventListener("blur",u,!1),function(){window.removeEventListener("visibilitychange",u,!1),window.removeEventListener("focus",u,!1),window.removeEventListener("blur",u,!1)}}),[]),r.a.useDidHide((function(){t(!1)})),e}},"248":function(n,e,t){"use strict";var r=t(26),u=function createUpdateEffect(n){return function(e,t){var u=r.a.useTaroRef(!1);n((function(){return function(){u.current=!1}}),[]),n((function(){if(u.current)return e();u.current=!0}),t)}}(r.a.useTaroEffect),o=t(136),i=function useAutoRunPlugin(n,e){var t=e.manual,i=e.ready,c=void 0===i||i,a=e.defaultParams,s=void 0===a?[]:a,l=e.refreshDeps,f=void 0===l?[]:l,d=e.refreshDepsAction,v=r.a.useTaroRef(!1);return v.current=!1,u((function(){!t&&Object(o.d)(c)&&(v.current=!0,n.run.apply(n,s))}),[c]),u((function(){v.current||t||(v.current=!0,d?d():(n.refresh(),"vue"===o.a&&(v.current=!1)))}),[].concat(f)),{"onBefore":function onBefore(){if(!Object(o.d)(c))return{"stopNow":!0}}}};i.onInit=function(n){var e=n.ready,t=void 0===e||e;return{"loading":!n.manual&&Object(o.d)(t)}};var c=i;function useCreation(n,e){var t=r.a.useTaroRef({"deps":e,"obj":void 0,"initialized":!1},!0);return!1!==Object(o.d)(t.current).initialized&&function depsAreSame(n,e){if(n===e)return!0;for(var t=0;t<n.length;t++)if(!Object.is(n[t],e[t]))return!1;return!0}(Object(o.d)(t.current).deps,e)||(t.current={"deps":e,"obj":n(),"initialized":!0}),Object(o.d)(t.current).obj}t(6);var a=function useLatest(n){var e=r.a.useTaroRef(n);return e.current=n,e},s=function useUnmount(n){var e=a(n);r.a.useTaroEffect((function(){return function(){e.current()}}),[])},l=t(163),f=new Map,d={},v=function subscribe(n,e){return d[n]||(d[n]=[]),d[n].push(e),function unsubscribe(){var t=d[n].indexOf(e);d[n].splice(t,1)}},h=function useCachePlugin(n,e){var t=e.cacheKey,u=e.cacheTime,o=void 0===u?3e5:u,i=e.staleTime,c=void 0===i?0:i,a=e.setCache,h=e.getCache,b=r.a.useTaroRef(),p=r.a.useTaroRef(),m=function _setCache(n,e){a?a(e):l.c(n,o,e),function trigger(n,e){d[n]&&d[n].forEach((function(n){return n(e)}))}(n,e.data)},g=function _getCache(n,e){return void 0===e&&(e=[]),h?h(e):l.b(n)};return useCreation((function(){if(t){var e=g(t);e&&Object.hasOwnProperty.call(e,"data")&&(n.state.data=e.data,n.state.params=e.params,(-1===c||(new Date).getTime()-e.time<=c)&&(n.state.loading=!1)),b.current=v(t,(function(e){n.setState({"data":e})}))}}),[]),s((function(){null==b.current||b.current()})),t?{"onBefore":function onBefore(n){var e=g(t,n);return e&&Object.hasOwnProperty.call(e,"data")?-1===c||(new Date).getTime()-e.time<=c?{"loading":!1,"data":null==e?void 0:e.data,"returnNow":!0}:{"data":null==e?void 0:e.data}:{}},"onRequest":function onRequest(n,e){var r=function getCachePromise(n){return f.get(n)}(t);return r&&r!==p.current||(r=n.apply(void 0,e),p.current=r,function setCachePromise(n,e){f.set(n,e),e.then((function(e){return f.delete(n),e})).catch((function(){f.delete(n)}))}(t,r)),{"servicePromise":r}},"onSuccess":function onSuccess(e,r){t&&(null==b.current||b.current(),m(t,{"data":e,"params":r,"time":(new Date).getTime()}),b.current=v(t,(function(e){n.setState({"data":e})})))},"onMutate":function onMutate(e){t&&(null==b.current||b.current(),m(t,{"data":e,"params":n.state.params,"time":(new Date).getTime()}),b.current=v(t,(function(e){n.setState({"data":e})})))}}:{}},b=t(256),p=function useDebouncePlugin(n,e){var t=e.debounceWait,u=e.debounceLeading,o=e.debounceTrailing,i=e.debounceMaxWait,c=r.a.useTaroRef(),a=r.a.useTaroMemo((function(){var n={};return void 0!==u&&(n.leading=u),void 0!==o&&(n.trailing=o),void 0!==i&&(n.maxWait=i),n}),[u,o,i]);return r.a.useTaroEffect((function(){if(t){var e=n.runAsync.bind(n);return c.current=Object(b.a)((function(n){n()}),t,a),n.runAsync=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return new Promise((function(n,r){null==c.current||c.current((function(){e.apply(void 0,t).then(n).catch(r)}))}))},function(){var t;null==(t=c.current)||t.cancel(),n.runAsync=e}}}),[t,a]),t?{"onCancel":function onCancel(){var n;null==(n=c.current)||n.cancel()}}:{}},m=function useLoadingDelayPlugin(n,e){var t=e.loadingDelay,u=r.a.useTaroRef();if(!t)return{};var o=function cancelTimeout(){u.current&&clearTimeout(u.current)};return{"onBefore":function onBefore(){return o(),u.current=setTimeout((function(){n.setState({"loading":!0})}),t),{"loading":!1}},"onFinally":function onFinally(){o()},"onCancel":function onCancel(){o()}}},g=t(181),j=[];var O=function subscribeReVisible(n){j.push(n);var e=Object(g.a)();return r.a.useTaroEffect((function(){if(Object(o.d)(e))for(var n=0;n<j.length;n++){(0,j[n])()}}),[e]),function unsubscribe(){var e=j.indexOf(n);j.splice(e,1)}},y=function usePollingPlugin(n,e){var t=e.pollingInterval,i=e.pollingWhenHidden,c=void 0===i||i,a=r.a.useTaroRef(),s=r.a.useTaroRef(),l=Object(g.a)(),f=O((function(){c||Object(o.d)(l)||n.refresh()})),d=function stopPolling(){a.current&&clearTimeout(a.current),null==s.current||s.current()};return u((function(){t||d()}),[t]),t?{"onBefore":function onBefore(){d()},"onFinally":function onFinally(){c||Object(o.d)(l)?a.current=setTimeout((function(){n.refresh()}),t):s.current=f},"onCancel":function onCancel(){d()}}:{}};var w=t(324);function isOnline(){return new Promise((function(n,e){Object(w.a)().then((function(e){return n("none"!==e.networkType)})).catch(e)}))}var T=[];var P=function useRefreshOnWindowFocusPlugin(n,e){var t=e.refreshOnWindowFocus,u=e.focusTimespan,i=void 0===u?5e3:u,c=r.a.useTaroRef(),a=Object(g.a)(),l=function stopSubscribe(){null==c.current||c.current()},f=function subscribeFocus(){return function _call(n,e,t){if(t)return e?e(n()):n();try{var r=Promise.resolve(n());return e?r.then(e):r}catch(n){return Promise.reject(n)}}(isOnline,(function(n){if(Object(o.d)(a)&&n)for(var e=0;e<T.length;e++){(0,T[e])()}}))};return r.a.useDidShow((function(){f()})),r.a.useDidHide((function(){f()})),r.a.useTaroEffect((function(){if(t){var e=function limit(n,e){var t=!1;return function(){t||(t=!0,n.apply(void 0,arguments),setTimeout((function(){t=!1}),e))}}(n.refresh.bind(n),i);c.current=function useRefreshOnWindowFocusPlugin_subscribe(n){return T.push(n),function unsubscribe(){var e=T.indexOf(n);T.splice(e,1)}}((function(){e()}))}return function(){l()}}),[t,i,a]),s((function(){l()})),{}},A=function useRetryPlugin(n,e){var t=e.retryInterval,u=e.retryCount,o=r.a.useTaroRef(),i=r.a.useTaroRef(0),c=r.a.useTaroRef(!1);return u?{"onBefore":function onBefore(){c.current||(i.current=0),c.current=!1,o.current&&clearTimeout(o.current)},"onSuccess":function onSuccess(){i.current=0},"onError":function onError(){if(i.current+=1,-1===u||i.current<=u){var e=null!=t?t:Math.min(1e3*Math.pow(2,i.current),3e4);o.current=setTimeout((function(){c.current=!0,n.refresh()}),e)}else i.current=0},"onCancel":function onCancel(){i.current=0,o.current&&clearTimeout(o.current)}}:{}},R=t(336),S=function useThrottlePlugin(n,e){var t=e.throttleWait,u=e.throttleLeading,o=e.throttleTrailing,i=r.a.useTaroRef(),c={};return void 0!==u&&(c.leading=u),void 0!==o&&(c.trailing=o),r.a.useTaroEffect((function(){if(t){var e=n.runAsync.bind(n);return i.current=Object(R.a)((function(n){n()}),t,c),n.runAsync=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return new Promise((function(n,r){null==i.current||i.current((function(){e.apply(void 0,t).then(n).catch(r)}))}))},function(){var t;n.runAsync=e,null==(t=i.current)||t.cancel()}}}),[t,u,o]),t?{"onCancel":function onCancel(){var n;null==(n=i.current)||n.cancel()}}:{}},x=function useUpdate(){var n=r.a.useTaroState({})[1];return r.a.useTaroCallback((function(){return n({})}),[])},C=function useMount(n){r.a.useTaroEffect((function(){null==n||n()}),[])};var E=function useMemoizedFn(n){var e=r.a.useTaroRef(n);e.current=r.a.useTaroMemo((function(){return n}),[n]);var t=r.a.useTaroRef();return t.current||(t.current=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e.current.apply(this,t)}),t.current},_=["stopNow","returnNow"];function _await(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}function _catch(n,e){try{var t=n()}catch(n){return e(n)}return t&&t.then?t.then(void 0,e):t}function _objectWithoutPropertiesLoose(n,e){if(null==n)return{};var t,r,u={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(u[t]=n[t]);return u}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var F=function(){function Fetch(n,e,t,r){void 0===r&&(r={}),this.serviceRef=void 0,this.options=void 0,this.subscribe=void 0,this.initState=void 0,this.pluginImpls=void 0,this.count=0,this.state={"loading":!1,"params":void 0,"data":void 0,"error":void 0},this.serviceRef=n,this.options=e,this.subscribe=t,this.initState=r,this.state=_extends({},this.state,{"loading":!e.manual},r)}var n=Fetch.prototype;return n.setState=function setState(n){void 0===n&&(n={}),this.state=_extends({},this.state,n),this.subscribe()},n.runPluginHandler=function runPluginHandler(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var u=this.pluginImpls.map((function(e){var r;return null==(r=e[n])?void 0:r.call.apply(r,[e].concat(t))})).filter(Boolean);return Object.assign.apply(Object,[{}].concat(u))},n.runAsync=function runAsync(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];try{var r=this;r.count+=1;var u=r.count,o=r.runPluginHandler("onBefore",e),i=o.stopNow,c=void 0!==i&&i,a=o.returnNow,s=void 0!==a&&a,l=_objectWithoutPropertiesLoose(o,_);return c?_await(new Promise((function(){}))):(r.setState(_extends({"loading":!0,"params":e},l)),s?Promise.resolve(l.data):(null==r.options.onBefore||r.options.onBefore(e),_await(_catch((function(){var n,t=r.runPluginHandler("onRequest",r.serviceRef.current,e).servicePromise;t||(t=(n=r.serviceRef).current.apply(n,e));return _await(t,(function(n){return u!==r.count?new Promise((function(){})):(r.setState({"data":n,"error":void 0,"loading":!1}),null==r.options.onSuccess||r.options.onSuccess(n,e),r.runPluginHandler("onSuccess",n,e),null==r.options.onFinally||r.options.onFinally(e,n,void 0),u===r.count&&r.runPluginHandler("onFinally",e,n,void 0),n)}))}),(function(n){if(u!==r.count)return new Promise((function(){}));throw r.setState({"error":n,"loading":!1}),null==r.options.onError||r.options.onError(n,e),r.runPluginHandler("onError",n,e),null==r.options.onFinally||r.options.onFinally(e,void 0,n),u===r.count&&r.runPluginHandler("onFinally",e,void 0,n),n})))))}catch(n){return Promise.reject(n)}},n.run=function run(){var n=this;this.runAsync.apply(this,arguments).catch((function(e){n.options.onError||console.error(e)}))},n.cancel=function cancel(){this.count+=1,this.setState({"loading":!1}),this.runPluginHandler("onCancel")},n.refresh=function refresh(){this.run.apply(this,this.state.params||[])},n.refreshAsync=function refreshAsync(){return this.runAsync.apply(this,this.state.params||[])},n.mutate=function mutate(n){var e;e=Object(o.f)(n)?n(this.state.data):n,this.runPluginHandler("onMutate",e),this.setState({"data":e})},Fetch}(),B=["manual"];function useRequestImplement_extends(){return(useRequestImplement_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var I=function useRequestImplement(n,e,t){void 0===e&&(e={}),void 0===t&&(t=[]);var u=e,i=u.manual,c=void 0!==i&&i,l=function useRequestImplement_objectWithoutPropertiesLoose(n,e){if(null==n)return{};var t,r,u={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(u[t]=n[t]);return u}(u,B),f=useRequestImplement_extends({"manual":c},l),d=a(n),v=x(),h=r.a.useTaroMemo((function(){var n=t.map((function(n){return null==n||null==n.onInit?void 0:n.onInit(f)})).filter(Boolean);return new F(d,f,v,Object.assign.apply(Object,[{}].concat(n)))}),[]);"react"===o.a?(h.options=f,h.pluginImpls=t.map((function(n){return n(h,f)}))):"vue"===o.a&&(h.value.options=f,h.value.pluginImpls=t.map((function(n){return n(h.value,f)}))),C((function(){if(!c){var n=Object(o.d)(h),t=n.state.params||e.defaultParams||[];n.run.apply(n,t)}})),s((function(){var n;null==(n=Object(o.d)(h))||null==n.cancel||n.cancel()}));var b=r.a.useTaroMemo((function(){return{"loading":Object(o.d)(h).state.loading,"data":Object(o.d)(h).state.data,"error":Object(o.d)(h).state.error,"params":Object(o.d)(h).state.params||[],"cancel":Object(o.d)(h).cancel.bind(Object(o.d)(h)),"refresh":Object(o.d)(h).refresh.bind(Object(o.d)(h)),"refreshAsync":Object(o.d)(h).refreshAsync.bind(Object(o.d)(h)),"run":Object(o.d)(h).run.bind(Object(o.d)(h)),"runAsync":Object(o.d)(h).runAsync.bind(Object(o.d)(h)),"mutate":Object(o.d)(h).mutate.bind(Object(o.d)(h))}}),[h]);return"vue"===o.a?b:{"loading":h.state.loading,"data":h.state.data,"error":h.state.error,"params":h.state.params||[],"cancel":E(h.cancel.bind(h)),"refresh":E(h.refresh.bind(h)),"refreshAsync":E(h.refreshAsync.bind(h)),"run":E(h.run.bind(h)),"runAsync":E(h.runAsync.bind(h)),"mutate":E(h.mutate.bind(h))}};var W=function useRequest(n,e,t){return I(n,e,[].concat(t||[],[p,m,y,P,S,c,h,A]))};e.a=W},"252":function(n,e,t){"use strict";var r=t(248);e.a=r.a},"540":function(n,e,t){"use strict";t.r(e);var r=t(252),u=(t(10),t(133)),o=t(150),i=t(257),c=t.n(i),a=t(138);function getUsername(){return new Promise((function(n,e){setTimeout((function(){Math.random()>.5?n(c.a.mock("@name()")):e(new Error("Failed to get username"))}),1e3)}))}e.default=function(){var n=Object(r.a)(getUsername),e=n.data,t=n.error,i=n.loading;return Object(a.jsx)(o.a,{"title":"Basic - 默认用法","desc":"读取用户名称","children":t?Object(a.jsx)(u.l,{"children":t.message}):i?Object(a.jsx)(u.l,{"children":"loading..."}):Object(a.jsxs)(u.l,{"children":["Username: ",e]})})}}}]);