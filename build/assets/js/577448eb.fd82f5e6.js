"use strict";(self.webpackChunk_taro_hooks_website=self.webpackChunk_taro_hooks_website||[]).push([[2855],{457:function(e,t,n){n.r(t),n.d(t,{assets:function(){return f},contentTitle:function(){return h},default:function(){return b},frontMatter:function(){return k},metadata:function(){return g},toc:function(){return T}});var a=n(7378),o=n(5318);var r=function({type:e="success",closeable:t=!1,children:n}){const[o,r]=a.useState(!0);return o?a.createElement("div",{className:`alert alert--${e}`,role:"alert"},t&&a.createElement("button",{"aria-label":"Close",className:"clean-btn close",type:"button",onClick:()=>r(!1)},a.createElement("span",{"aria-hidden":"true"},"\xd7")),n):null},s=n(2984),u=()=>a.createElement(s.Z,{language:"html",title:"/useState/index.vue",openUrl:"https://github.com/innocces/taro-hooks/edit/next/examples/taro-hooks-plugin-vue/src/pages/useState/index.vue",url:"https://innocces.github.io/taro-hooks/vue/pages/useState/index"},'<template>\n  <block>\n    <demo-content title="1. Counter(number)">\n      <nut-button shape="square" type="primary" block @click="handleClick()">{{\n        count\n      }}</nut-button>\n    </demo-content>\n\n    <demo-content title="2. Text field(string)">\n      <control-input :value="text" @input="handleChange($event)" />\n      <view class="control-input">You typed: {{ text }}</view>\n      <nut-button\n        shape="square"\n        type="danger"\n        block\n        @click="handleChange(\'hello\')"\n        >Reset</nut-button\n      >\n    </demo-content>\n\n    <demo-content title="3. Checkbox is not well. use toggle instand(boolean)">\n      <view class="control-input"\n        >You {{ liked ? \'liked\' : \'not liked\' }} this!</view\n      >\n      <nut-button\n        shape="square"\n        type="primary"\n        block\n        @click="handleChangeLiked()"\n        >click here for like or not like!</nut-button\n      >\n    </demo-content>\n\n    <demo-content title="4. Form(two variables) above all."></demo-content>\n  </block>\n</template>\n\n<script>\nimport { useTaroState } from \'@tarojs/taro\';\nimport { escapeState } from \'@taro-hooks/shared\';\n\nexport default {\n  setup() {\n    const [count, setCount] = useTaroState(0);\n    function handleClick() {\n      setCount(escapeState(count) + 1);\n    }\n\n    const [text, setText] = useTaroState(\'hello\');\n    function handleChange(val) {\n      setText(val);\n    }\n\n    const [liked, setLiked] = useTaroState(true);\n    function handleChangeLiked() {\n      setLiked(!escapeState(liked));\n    }\n\n    return {\n      handleClick,\n      count,\n      handleChange,\n      text,\n      handleChangeLiked,\n      liked,\n    };\n  },\n};\n<\/script>\n'),i=()=>a.createElement(s.Z,{language:"html",title:"/useEffect/index.vue",openUrl:"https://github.com/innocces/taro-hooks/edit/next/examples/taro-hooks-plugin-vue/src/pages/useEffect/index.vue",url:"https://innocces.github.io/taro-hooks/vue/pages/useEffect/index"},"<template>\n  <block>\n    <demo-content title=\"1. without sideEffect\">\n      <nut-button shape=\"square\" type=\"primary\" block @click=\"handleClick()\">{{\n        count\n      }}</nut-button>\n    </demo-content>\n\n    <demo-content title=\"2. with sideEffect\">\n      <view class=\"control-input\">{{\n        isOnline === null ? 'Loading...' : isOnline ? 'Online' : 'Offline'\n      }}</view>\n    </demo-content>\n  </block>\n</template>\n\n<script>\nimport { useTaroState, useTaroEffect, showToast } from '@tarojs/taro';\nimport { escapeState } from '@taro-hooks/shared';\n\nconst subsQueue = {};\n\nasync function subscribeToFriendStatus(id, statusChange) {\n  if (subsQueue[id]) {\n    console.warn('alert: already subscribed to friend status', id);\n    return;\n  }\n  subsQueue[id] = setInterval(\n    () => statusChange(Boolean(Math.random() > 0.5)),\n    1000,\n  );\n}\n\nasync function unsubscribeFromFriendStatus(id) {\n  if (!subsQueue[id]) {\n    console.warn('alert: not subscribed to friend status', id);\n    return;\n  }\n  clearInterval(subsQueue[id]);\n  delete subsQueue[id];\n}\n\nconst chatAPI = {\n  subscribeToFriendStatus,\n  unsubscribeFromFriendStatus,\n};\n\nexport default {\n  setup() {\n    const [count, setCount] = useTaroState(0);\n    function handleClick() {\n      setCount(escapeState(count) + 1);\n    }\n\n    useTaroEffect(() => {\n      showToast({\n        title: 'You clicked' + escapeState(count) + 'times',\n        duration: 2000,\n      });\n    }, [count]);\n\n    const [isOnline, setIsOnline] = useTaroState(null);\n\n    useTaroEffect(() => {\n      chatAPI.subscribeToFriendStatus(1, setIsOnline);\n\n      return function cleanup() {\n        chatAPI.unsubscribeFromFriendStatus(1);\n      };\n    }, [isOnline]);\n\n    return {\n      handleClick,\n      count,\n      isOnline,\n    };\n  },\n};\n<\/script>\n"),l=()=>a.createElement(s.Z,{language:"html",title:"/useRef/index.vue",openUrl:"https://github.com/innocces/taro-hooks/edit/next/examples/taro-hooks-plugin-vue/src/pages/useRef/index.vue",url:"https://innocces.github.io/taro-hooks/vue/pages/useRef/index"},'<template>\n  <block>\n    <demo-content title="1. click counter">\n      <nut-button shape="square" type="primary" block @click="handleClick()"\n        >Click me!</nut-button\n      >\n    </demo-content>\n\n    <demo-content title="1. click counter">\n      <view class="control-input">{{\n        startTime != null && now != null ? (now - startTime) / 1000 : 0\n      }}</view>\n      <nut-row type="flex" :gutter="4">\n        <nut-col\n          ><nut-button shape="square" type="info" block @click="handleStart()"\n            >Start!</nut-button\n          ></nut-col\n        >\n        <nut-col\n          ><nut-button shape="square" type="primary" block @click="handleStop()"\n            >Stop!</nut-button\n          ></nut-col\n        >\n      </nut-row>\n    </demo-content>\n  </block>\n</template>\n\n<script>\nimport { useTaroRef, useTaroState, showToast } from \'@tarojs/taro\';\n\nexport default {\n  setup() {\n    const ref = useTaroRef(0);\n    function handleClick() {\n      ref.current = ref.current + 1;\n      showToast({\n        title: \'You clicked\' + ref.current + \'times\',\n        duration: 2000,\n      });\n    }\n\n    const [startTime, setStartTime] = useTaroState(null);\n    const [now, setNow] = useTaroState(null);\n    const intervalRef = useTaroRef(null);\n\n    function handleStart() {\n      setStartTime(Date.now());\n      setNow(Date.now());\n\n      clearInterval(intervalRef.current);\n      intervalRef.current = setInterval(() => {\n        setNow(Date.now());\n      }, 10);\n    }\n\n    function handleStop() {\n      clearInterval(intervalRef.current);\n    }\n\n    return {\n      handleClick,\n      handleStart,\n      handleStop,\n      startTime,\n      now,\n    };\n  },\n};\n<\/script>\n'),c=()=>a.createElement(s.Z,{language:"html",title:"/useReducer/index.vue",openUrl:"https://github.com/innocces/taro-hooks/edit/next/examples/taro-hooks-plugin-vue/src/pages/useReducer/index.vue",url:"https://innocces.github.io/taro-hooks/vue/pages/useReducer/index"},'<template>\n  <block>\n    <demo-content title="1. Form (Object)">\n      <control-input\n        @input="handleNameChange($event)"\n        :value="formState.name"\n      />\n      <view class="control-input"\n        >Hello, {{ formState.name }}. You are {{ formState.age }}.</view\n      >\n      <nut-button\n        shape="square"\n        type="primary"\n        block\n        @click="handleIncrementAge()"\n        >Increment Age</nut-button\n      >\n    </demo-content>\n\n    <demo-content title="2. Todo list (Array)">\n      <nut-row type="flex" :gutter="4">\n        <nut-col :span="18">\n          <control-input\n            placeholder="Add task"\n            :value="currentAddTask"\n            @input="setCurrentAddTask($event)"\n          />\n        </nut-col>\n        <nut-col :span="6">\n          <nut-button\n            shape="square"\n            type="info"\n            block\n            @click="handleAddTask(currentAddTask)"\n            >Add</nut-button\n          >\n        </nut-col>\n      </nut-row>\n      <ListItem\n        v-for="item in tasks"\n        :key="item.id"\n        :done="item.done"\n        :text="item.text"\n        :id="item.id"\n        @taskChange="handleChangeTask($event)"\n        @taskDelete="handleDeleteTask($event)"\n      />\n    </demo-content>\n\n    <demo-content\n      title="3. Writing concise update logic with Immer. write self"\n    />\n  </block>\n</template>\n\n<script>\nimport { useTaroState, useTaroReducer } from \'@tarojs/taro\';\nimport Item from \'./Item.vue\';\n\n// 1. Form (Object)\nfunction formReducer(state, action) {\n  switch (action.type) {\n    case \'incremented_age\': {\n      return {\n        name: state.name,\n        age: state.age + 1,\n      };\n    }\n    case \'changed_name\': {\n      return {\n        name: action.nextName,\n        age: state.age,\n      };\n    }\n  }\n  throw Error(\'Unknown action: \' + action.type);\n}\n\nconst initialFormState = { name: \'Taylor\', age: 42 };\n\n// 2. Todo list (Array)\nfunction tasksReducer(tasks, action) {\n  switch (action.type) {\n    case \'added\': {\n      return [\n        ...tasks,\n        {\n          id: action.id,\n          text: action.text,\n          done: false,\n        },\n      ];\n    }\n    case \'changed\': {\n      return tasks.map((t) => {\n        if (t.id === action.task.id) {\n          return action.task;\n        } else {\n          return t;\n        }\n      });\n    }\n    case \'deleted\': {\n      return tasks.filter((t) => t.id !== action.id);\n    }\n    default: {\n      throw Error(\'Unknown action: \' + action.type);\n    }\n  }\n}\n\nconst initialTaskState = [\n  { id: 0, text: \'Visit Kafka Museum\', done: true },\n  { id: 1, text: \'Watch a puppet show\', done: false },\n  { id: 2, text: \'Lennon Wall pic\', done: false },\n];\n\nlet nextId = 3;\n\nexport default {\n  components: {\n    ListItem: Item,\n  },\n  setup() {\n    // 1. Form (Object)\n    const [formState, formDispatch] = useTaroReducer(\n      formReducer,\n      initialFormState,\n    );\n\n    const handleIncrementAge = () => {\n      formDispatch({ type: \'incremented_age\' });\n    };\n\n    const handleNameChange = (e) => {\n      formDispatch({ type: \'changed_name\', nextName: e });\n    };\n\n    // 2. Todo list (Array)\n    const [tasks, taskDispatch] = useTaroReducer(\n      tasksReducer,\n      initialTaskState,\n    );\n    function handleAddTask(text) {\n      taskDispatch({\n        type: \'added\',\n        id: nextId++,\n        text: text,\n      });\n      setCurrentAddTask(null);\n    }\n\n    function handleChangeTask(task) {\n      taskDispatch({\n        type: \'changed\',\n        task: task,\n      });\n    }\n\n    function handleDeleteTask(taskId) {\n      taskDispatch({\n        type: \'deleted\',\n        id: taskId,\n      });\n    }\n    const [currentAddTask, setCurrentAddTask] = useTaroState(null);\n\n    return {\n      formState,\n      handleIncrementAge,\n      handleNameChange,\n      tasks,\n      handleAddTask,\n      handleChangeTask,\n      handleDeleteTask,\n      currentAddTask,\n      setCurrentAddTask,\n    };\n  },\n};\n<\/script>\n'),p=()=>a.createElement(s.Z,{language:"html",title:"/useContext/index.vue",openUrl:"https://github.com/innocces/taro-hooks/edit/next/examples/taro-hooks-plugin-vue/src/pages/useContext/index.vue",url:"https://innocces.github.io/taro-hooks/vue/pages/useContext/index"},"<template>\n  <ThemeProvider :value=\"theme\">\n    <UserProvider :value=\"useProviderValue\">\n      <block>\n        <demo-content title=\"attention: this example is a multiple contexts\">\n          <ThemeContent />\n        </demo-content>\n\n        <demo-content title=\"1. Updating a value via context\">\n          <nut-checkbox v-model=\"memoTheme\" @change=\"handleChange\"\n            >Use dark mode</nut-checkbox\n          >\n        </demo-content>\n\n        <demo-content title=\"2. Updating an object via context\" />\n      </block>\n    </UserProvider>\n  </ThemeProvider>\n</template>\n\n<script>\nimport { escapeState } from '@taro-hooks/shared';\nimport { useTaroState, useTaroContext, useTaroMemo } from '@tarojs/taro';\nimport ThemeContent from './ThemeContent.vue';\nimport { themeContext, userContext } from './context';\n\nconst { Provider: ThemeProvider } = themeContext;\n\nconst { Provider: UserProvider } = userContext;\n\nexport default {\n  components: {\n    ThemeProvider,\n    UserProvider,\n    ThemeContent,\n  },\n  setup() {\n    // 1. Updating a value via context\n    const [theme, setTheme] = useTaroState({ theme: 'light' });\n\n    const currentTheme = useTaroContext(themeContext);\n\n    const handleChange = (event) => {\n      setTheme({ theme: event ? 'dark' : 'light' });\n    };\n\n    const memoTheme = useTaroMemo(() => {\n      return escapeState(theme).theme === 'dark';\n    }, [theme]);\n\n    // 2. Updating an object via context\n    const [user, setUser] = useTaroState({ name: null });\n    const useProviderValue = {\n      user,\n      setUser,\n    };\n\n    return {\n      theme,\n      currentTheme,\n      setTheme,\n      handleChange,\n      useProviderValue,\n      memoTheme,\n    };\n  },\n};\n<\/script>\n");function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const k={title:"Vue \u6559\u7a0b",sidebar_position:3},h=void 0,g={unversionedId:"quick/vue-useage",id:"quick/vue-useage",title:"Vue \u6559\u7a0b",description:"\u4e0b\u9762\u7684\u5185\u5bb9\u90fd\u5efa\u7acb\u5728\u62e5\u6709\u8db3\u591f\u7684Vue3 \u548c React-hooks \u7684\u57fa\u7840\u4e0a. \u82e5\u8fd8\u5bf9\u524d\u9762\u53d9\u8ff0\u7684\u4e0d\u6e05\u695a\u7684\u53ef\u4ee5\u5148\u4e86\u89e3\u4e00\u4e0b",source:"@site/docs/quick/vue-useage.mdx",sourceDirName:"quick",slug:"/quick/vue-useage",permalink:"/taro-hooks/docs/quick/vue-useage",draft:!1,editUrl:"https://github.com/innocces/taro-hooks/edit/next/website/docs/quick/vue-useage.mdx",tags:[],version:"current",lastUpdatedBy:"innocces",lastUpdatedAt:1666493222,formattedLastUpdatedAt:"2022\u5e7410\u670823\u65e5",sidebarPosition:3,frontMatter:{title:"Vue \u6559\u7a0b",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"React \u6559\u7a0b",permalink:"/taro-hooks/docs/quick/react-useage"},next:{title:"\u5e38\u89c1\u95ee\u9898",permalink:"/taro-hooks/docs/quick/faq"}},f={},T=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u5b89\u88c5\u63d2\u4ef6",id:"\u5b89\u88c5\u63d2\u4ef6",level:3},{value:"\u9879\u76ee\u914d\u7f6e",id:"\u9879\u76ee\u914d\u7f6e",level:3},{value:"<strong>Hooks</strong>",id:"hooks",level:2},{value:"<strong>useTaroState</strong>",id:"usetarostate",level:3},{value:"<strong>useTaroEffect</strong>",id:"usetaroeffect",level:3},{value:"<strong>useTaroRef</strong>",id:"usetaroref",level:3},{value:"<strong>useTaroReducer</strong>",id:"usetaroreducer",level:3},{value:"<strong>useTaroCallback</strong>",id:"usetarocallback",level:3},{value:"<strong>useTaroMemo</strong>",id:"usetaromemo",level:3},{value:"<strong>useTaroLayoutEffect</strong>",id:"usetarolayouteffect",level:3},{value:"<strong>useTaroContext</strong>",id:"usetarocontext",level:3}],v={toc:T};function b(e){var{components:t}=e,n=m(e,["components"]);return(0,o.kt)("wrapper",d({},v,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",d({},{type:"caution"}),(0,o.kt)("p",{parentName:"admonition"},"\u4e0b\u9762\u7684\u5185\u5bb9\u90fd\u5efa\u7acb\u5728\u62e5\u6709\u8db3\u591f\u7684",(0,o.kt)("strong",{parentName:"p"},"Vue3")," \u548c ",(0,o.kt)("strong",{parentName:"p"},"React-hooks")," \u7684\u57fa\u7840\u4e0a. \u82e5\u8fd8\u5bf9\u524d\u9762\u53d9\u8ff0\u7684\u4e0d\u6e05\u695a\u7684\u53ef\u4ee5\u5148\u4e86\u89e3\u4e00\u4e0b")),(0,o.kt)("h2",d({},{id:"\u6982\u8ff0"}),"\u6982\u8ff0"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"taro-hooks")," \u652f\u6301 ",(0,o.kt)("strong",{parentName:"p"},"Vue3")," \u7684\u65b9\u5f0f\u4e3a\u63d2\u4ef6\u5316. \u4f7f\u7528\u63d2\u4ef6\u6a21\u62df\u5bf9\u5e94\u7684\u5e38\u7528 ",(0,o.kt)("strong",{parentName:"p"},"React-hooks"),". \u5f53\u7136, \u5982\u679c\u4f60\u4e0d\u60f3\u4f7f\u7528 ",(0,o.kt)("strong",{parentName:"p"},"taro-hooks"),". \u4f46\u60f3\u8981\u5728 ",(0,o.kt)("strong",{parentName:"p"},"Vue3")," \u4e2d\u4f53\u9a8c ",(0,o.kt)("strong",{parentName:"p"},"React-hooks"),". \u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u63d2\u4ef6."),(0,o.kt)("h2",d({},{id:"\u914d\u7f6e"}),"\u914d\u7f6e"),(0,o.kt)("h3",d({},{id:"\u5b89\u88c5\u63d2\u4ef6"}),"\u5b89\u88c5\u63d2\u4ef6"),(0,o.kt)("p",null,"\u9996\u5148\u9700\u8981\u4e0b\u8f7d ",(0,o.kt)("strong",{parentName:"p"},"@taro-hooks/plugin-vue")," \u63d2\u4ef6"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-bash"}),"$ npm i @taro-hooks/plugin-vue@canary\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u5efa\u8bae\u60a8\u540c\u65f6\u4e0b\u8f7d ",(0,o.kt)("strong",{parentName:"p"},"@taro-hooks/shared")," \u63d2\u4ef6\u7528\u4e8e\u8f6c\u6362\u4e00\u4e9b\u7b49\u540c\u72b6\u6001\u7684 ",(0,o.kt)("strong",{parentName:"p"},"state"))),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-bash"}),"$ npm i @taro-hooks/shared\n")),(0,o.kt)("h3",d({},{id:"\u9879\u76ee\u914d\u7f6e"}),"\u9879\u76ee\u914d\u7f6e"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-js",metastring:'title="config/index.js"',title:'"config/index.js"'}),"const config = {\n  // ...\n  plugins: ['@taro-hooks/plugin-vue'],\n  // ...\n};\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f: \u63d2\u4ef6\u5185\u90e8\u4f1a\u68c0\u6d4b\u5f53\u524d\u9879\u76ee\u7684\u6846\u67b6\u548c\u4f9d\u8d56\u72b6\u6001, \u82e5\u60a8\u7684\u9879\u76ee\u4e0d\u662f ",(0,o.kt)("strong",{parentName:"p"},"Vue3")," \u7684\u9879\u76ee, \u90a3\u4e48\u5f88\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u542f\u52a8.")),(0,o.kt)("h2",d({},{id:"hooks"}),(0,o.kt)("strong",{parentName:"h2"},"Hooks")),(0,o.kt)("p",null,"\u6240\u6709\u7684 ",(0,o.kt)("strong",{parentName:"p"},"Hooks")," \u5747\u5728\u8fd0\u884c\u65f6\u6ce8\u5165\u5230\u4e86 ",(0,o.kt)("strong",{parentName:"p"},"@tarojs/taro")," \u5185\u90e8, \u5e76\u4f7f\u7528\u4e86 ",(0,o.kt)("strong",{parentName:"p"},"useTaro")," \u7684\u6807\u51c6\u524d\u7f00."),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-html",metastring:'title="example/index.vue" showLineNumbers',title:'"example/index.vue"',showLineNumbers:!0}),"<script>\n  import {\n    useTaroState,\n    useTaroEffect,\n    useTaroRef,\n    useTaroReducer,\n    useTaroCallback,\n    useTaroMemo,\n    useTaroLayoutEffect,\n    useTaroContext,\n    useWatchEffect,\n    taroCreateContext,\n  } from '@tarojs/taro';\n\n  export default {\n    setup() {\n      // use hooks in setup\n    },\n  };\n<\/script>\n")),(0,o.kt)("admonition",d({},{type:"tip"}),(0,o.kt)("p",{parentName:"admonition"},"\u4e0b\u9762\u7684 ",(0,o.kt)("strong",{parentName:"p"},"Hook")," \u4f7f\u7528\u793a\u4f8b\u5c3d\u53ef\u80fd\u7684\u548c ",(0,o.kt)("strong",{parentName:"p"},"React")," \u6559\u7a0b\u4fdd\u6301\u4e86\u4e00\u81f4. \u65b9\u4fbf ",(0,o.kt)("strong",{parentName:"p"},"React")," \u5f00\u53d1\u7684\u540c\u5b66\u9605\u8bfb")),(0,o.kt)("h3",d({},{id:"usetarostate"}),(0,o.kt)("strong",{parentName:"h3"},"useTaroState")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"useTaroState")," \u5e2e\u52a9\u60a8\u5feb\u901f\u521b\u5efa\u4e00\u4e2a\u54cd\u5e94\u5f0f\u6570\u636e\u548c\u66f4\u6539\u5b83\u7684\u65b9\u6cd5\n\u4f46\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f, \u5b83\u5185\u90e8\u4f7f\u7528\u7684\u662f ",(0,o.kt)("strong",{parentName:"p"},"Ref"),". \u5728 ",(0,o.kt)("strong",{parentName:"p"},"template")," \u5185\u4f1a\u88ab\u81ea\u52a8\u89e3\u5305. \u4f46\u5728 ",(0,o.kt)("strong",{parentName:"p"},"setup")," \u5185\u4f7f\u7528\u4f9d\u7136\u9700\u8981\u663e\u5f0f\u7684\u4f7f\u7528 ",(0,o.kt)("strong",{parentName:"p"},"state.value")," \u6765\u83b7\u53d6\u503c. \u5f53\u7136\u6211\u4eec\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5de5\u5177\u6765\u62b9\u5e73\u5dee\u5f02. \u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\u6709\u4f53\u73b0"),(0,o.kt)(u,{mdxType:"UseTaroState"}),(0,o.kt)("admonition",d({},{type:"caution"}),(0,o.kt)("p",{parentName:"admonition"},"\u6ce8\u610f: ",(0,o.kt)("strong",{parentName:"p"},"useTaroEffect")," \u3001 ",(0,o.kt)("strong",{parentName:"p"},"useWatchEffect")," \u3001 ",(0,o.kt)("strong",{parentName:"p"},"useTaroRef"),"\u3001 ",(0,o.kt)("strong",{parentName:"p"},"useTaroCallback"),"\u3001 ",(0,o.kt)("strong",{parentName:"p"},"useTaroMemo")," \u5185\u90e8\u5747\u4f7f\u7528 ",(0,o.kt)("strong",{parentName:"p"},"watchEffect")," \u6536\u96c6\u4f9d\u8d56\u53d8\u5316. \u5b83\u6ee1\u8db3 ",(0,o.kt)("a",d({parentName:"p"},{href:"https://v3.cn.vuejs.org/guide/reactivity-computed-watchers.html#%E4%B8%8E-watcheffect-%E5%85%B1%E4%BA%AB%E7%9A%84%E8%A1%8C%E4%B8%BA"}),(0,o.kt)("strong",{parentName:"a"},"\u4e0ewatch\u5171\u4eab\u7684\u884c\u4e3a")),". \u5e94\u5c3d\u91cf\u907f\u514d\u5728 ",(0,o.kt)("strong",{parentName:"p"},"hooks")," \u5916\u5355\u72ec\u5904\u7406\u4f9d\u8d56\u6e05\u9664")),(0,o.kt)("h3",d({},{id:"usetaroeffect"}),(0,o.kt)("strong",{parentName:"h3"},"useTaroEffect")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"useTaroEffect")," \u5e2e\u52a9\u60a8\u7ed9\u51fd\u6570\u7ec4\u4ef6\u589e\u52a0\u64cd\u4f5c\u526f\u4f5c\u7528\u7684\u80fd\u529b. \u5b83\u548c ",(0,o.kt)("strong",{parentName:"p"},"componentDidMount|DidUpdate|WillUnmount")," \u5177\u6709\u76f8\u540c\u7684\u7528\u9014."),(0,o.kt)(i,{mdxType:"UseTaroEffect"}),(0,o.kt)("h3",d({},{id:"usetaroref"}),(0,o.kt)("strong",{parentName:"h3"},"useTaroRef")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"useTaroRef")," \u5e2e\u52a9\u60a8\u521b\u5efa\u4e00\u4e2a\u4e0d\u4f1a\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3\u7684\u5f15\u7528. \u5b83\u548c ",(0,o.kt)("strong",{parentName:"p"},"React.createRef")," \u5177\u6709\u76f8\u540c\u7684\u7528\u9014."),(0,o.kt)(l,{mdxType:"UseTaroRef"}),(0,o.kt)(r,{type:"warning",mdxType:"Alert"},"\u6ce8\u610f",(0,o.kt)("strong",null,"useTaroRef"),"\u5185\u90e8\u662f\u9ed8\u8ba4\u4f7f\u7528",(0,o.kt)("strong",null,"reactive"),"\u6765\u751f\u6210. \u82e5\u9700\u8981\u5728\u89c6\u56fe\u5185\u4fdd\u6d3b, \u8bf7\u4e0d\u8981\u89e3\u6784."),(0,o.kt)("h3",d({},{id:"usetaroreducer"}),(0,o.kt)("strong",{parentName:"h3"},"useTaroReducer")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"useTaroReducer")," \u5e2e\u52a9\u60a8\u521b\u5efa\u4e00\u4e2a ",(0,o.kt)("strong",{parentName:"p"},"reducer")," (",(0,o.kt)("strong",{parentName:"p"},"eventBus"),") \u5728\u7ec4\u4ef6\u4e2d\u4f7f\u7528."),(0,o.kt)(c,{mdxType:"UseTaroReducer"}),(0,o.kt)("h3",d({},{id:"usetarocallback"}),(0,o.kt)("strong",{parentName:"h3"},"useTaroCallback")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"useTaroCallback")," \u8fd4\u56de\u4e00\u4e2a ",(0,o.kt)("a",d({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Memoization"}),(0,o.kt)("strong",{parentName:"a"},"memoized"))," \u56de\u8c03\u51fd\u6570"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-js",metastring:'showLineNumbers title="/useCallback/index.vue"',showLineNumbers:!0,title:'"/useCallback/index.vue"'}),"const memoizedCallback = useTaroCallback(\n  () => {\n    doSomething(a, b);\n  },\n  [a, b],\n);\n")),(0,o.kt)("h3",d({},{id:"usetaromemo"}),(0,o.kt)("strong",{parentName:"h3"},"useTaroMemo")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"useTaroMemo")," \u8fd4\u56de\u4e00\u4e2a ",(0,o.kt)("a",d({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Memoization"}),(0,o.kt)("strong",{parentName:"a"},"memoized"))," \u56de\u8c03\u51fd\u6570"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-js",metastring:'showLineNumbers title="/useMemo/index.vue"',showLineNumbers:!0,title:'"/useMemo/index.vue"'}),"const memoizedValue = useTaroMemo(\n  () => computeExpensiveValue(a, b),\n  [a, b]\n);\n")),(0,o.kt)(r,{type:"warning",mdxType:"Alert"},"\u4f60\u53ef\u4ee5\u628a useTaroMemo \u4f5c\u4e3a\u6027\u80fd\u4f18\u5316\u7684\u624b\u6bb5\uff0c\u4f46\u4e0d\u8981\u628a\u5b83\u5f53\u6210\u8bed\u4e49\u4e0a\u7684\u4fdd\u8bc1"),(0,o.kt)("h3",d({},{id:"usetarolayouteffect"}),(0,o.kt)("strong",{parentName:"h3"},"useTaroLayoutEffect")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"useTaroLayoutEffect")," \u51fd\u6570\u7b7e\u540d\u548c ",(0,o.kt)("strong",{parentName:"p"},"useTaroEffect")," \u76f8\u540c. \u4f46\u5b83\u4f1a\u5728\u6240\u6709\u7684 DOM \u53d8\u66f4\u4e4b\u540e\u540c\u6b65\u8c03\u7528 effect\u3002\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u8bfb\u53d6 DOM \u5e03\u5c40\u5e76\u540c\u6b65\u89e6\u53d1\u91cd\u6e32\u67d3"),(0,o.kt)(r,{type:"danger",mdxType:"Alert"},"\u8bf7\u5c3d\u53ef\u80fd\u7684\u51cf\u5c11\u4f7f\u7528\u6b64 hook \u7684\u6b21\u6570\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5bfc\u81f4\u989d\u5916\u7684\u6027\u80fd\u5f00\u9500"),(0,o.kt)("h3",d({},{id:"usetarocontext"}),(0,o.kt)("strong",{parentName:"h3"},"useTaroContext")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"useTaroContext")," \u5e2e\u52a9\u60a8\u8bfb\u53d6\u548c\u8ba2\u9605\u7ec4\u4ef6\u7684\u4e0a\u4e0b\u6587."),(0,o.kt)(p,{mdxType:"UseTaroContext"}),(0,o.kt)(r,{type:"danger",mdxType:"Alert"},"\u6ce8\u610f: ",(0,o.kt)("strong",null,"context")," \u5fc5\u987b\u8bbe\u7f6e\u4e3a\u5bf9\u8c61\u7684\u5f62\u5f0f. \u4e3a\u4e86\u8fbe\u5230\u591a\u5c42\u7ee7\u627f\u7684\u76ee\u7684. \u7ee7\u627f\u7684\u52a8\u4f5c\u7531 ",(0,o.kt)("code",null,"taroCreateContext")," \u6765\u5b8c\u6210. \u5185\u90e8\u5b9e\u5219\u8d70\u7684\u662f\u6269\u5c55\u5408\u5e76."))}b.isMDXComponent=!0}}]);