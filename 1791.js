(self["webpackChunk"]=self["webpackChunk"]||[]).push([[1791],{51791:function(t,e,i){"use strict";i.r(e),i.d(e,{taro_slider_core:function(){return a}});var n=i(41674),a=function(){function t(t){var e=this;(0,n.r)(this,t),this.onChange=(0,n.c)(this,"change",7),this.onChanging=(0,n.c)(this,"changing",7),this.min=0,this.max=100,this.step=1,this.disabled=!1,this.value=0,this.activeColor="#1aad19",this.backgroundColor="#e9e9e9",this.blockSize=28,this.blockColor="#ffffff",this.showValue=!1,this.name="",this.totalWidth=0,this.touching=!1,this.ogX=0,this.touchId=null,this.percent=0,this.isWillLoadCalled=!1,this.handleTouchStart=function(t){e.touching||e.disabled||(e.touching=!0,e.touchId=t.targetTouches[0].identifier,e.totalWidth=e.sliderInsRef.clientWidth,e.ogX=t.targetTouches[0].pageX,e.ogPercent=e.percent)},this.handleTouchMove=function(t){var i=e,n=i.disabled,a=i.touching,o=i.touchId,h=i.totalWidth,r=i.max,l=i.min,s=i.ogX,u=i.ogPercent;if(a&&!n&&t.targetTouches[0].identifier===o){t.preventDefault();var c=t.targetTouches[0].pageX,d=c-s,f=d/h*100+u;f=Math.max(0,Math.min(f,100));var p=l+.01*f*(r-l);e.updateByStep(p),e.onChanging.emit({detail:t.detail,value:e.val})}},this.handleTouchEnd=function(t){var i=e,n=i.disabled,a=i.touching;a&&!n&&(e.percent!==e.ogPercent&&e.onChange.emit({detail:t.detail,value:e.val}),e.touching=!1,e.touchId=null,e.ogX=0,e.ogPercent=0)}}return t.prototype["function"]=function(t){if(this.isWillLoadCalled){var e=this,i=e.max,n=e.min;if(null!==t&&t!==this.val){var a=Math.max(n,Math.min(t,i));this.updateByStep(a)}}},t.prototype.componentDidLoad=function(){var t=this;Object.defineProperty(this.el,"value",{get:function(){return t.val},set:function(e){return t.value=e},configurable:!0}),this.handler.addEventListener("touchstart",this.handleTouchStart),this.handler.addEventListener("touchmove",this.handleTouchMove),this.handler.addEventListener("touchend",this.handleTouchEnd)},t.prototype.componentDidUpdate=function(){this.value=null},t.prototype.componentWillLoad=function(){this.isWillLoadCalled=!0;var t=this,e=t.value,i=t.max,n=t.min;if(null!==e){var a=Math.max(n,Math.min(e,i));this.updateByStep(a)}},t.prototype.updateByStep=function(t){for(var e=this,i=e.max,n=e.min,a=e.step,o=Math.floor((i-n)/a),h=0;h<=o;h++){var r=n+a*h,l=h===o?null:n+a*(h+1);if(t===r)break;if(!l&&t>r&&(t=r),l&&t>r&&t<l){t=t-r<a/2?r:l;break}}var s=(t-n)/(i-n)*100;this.val=t,this.percent=s},t.prototype.render=function(){var t=this,e=this,i=e.showValue,a=e.backgroundColor,o=e.activeColor,h=e.blockColor,r=e.name,l=e.percent,s=e.val,u=this.blockSize,c={backgroundColor:a},d=l>100?100:l,f={width:d+"%",backgroundColor:o};u<12&&(u=12),u>28&&(u=28);var p={left:d+"%",width:u+"px",height:u+"px",backgroundColor:h,marginTop:"-"+Math.floor(u/2)+"px",marginLeft:"-"+Math.floor(u/2)+"px"};return(0,n.h)(n.H,{class:"weui-slider-box"},(0,n.h)("div",{class:"weui-slider"},(0,n.h)("div",{class:"weui-slider__inner",style:c,ref:function(e){return t.sliderInsRef=e}},(0,n.h)("div",{style:f,class:"weui-slider__track"}),(0,n.h)("div",{class:"weui-slider__handler",ref:function(e){e&&(t.handler=e)},style:p}),(0,n.h)("input",{type:"hidden",name:r,value:s}))),i&&(0,n.h)("div",{class:"weui-slider-box__value"},s))},Object.defineProperty(t.prototype,"el",{get:function(){return(0,n.g)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"watchers",{get:function(){return{value:["function"]}},enumerable:!1,configurable:!0}),t}()}}]);