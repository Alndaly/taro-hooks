(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"187":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return generateGeneralFail})),n.d(t,"a",(function(){return combineOptions})),n.d(t,"d",(function(){return stringfiyUrl}));var r=n(19),c=n(189);var o=!0,i=function typeOf(e,t){return[t].flat().some((function(t){return Object.prototype.toString.call(e)==="[object "+t+"]"}))};function generateGeneralFail(e,t){var n="[API "+e+"] "+(t=t||"调用失败");return o||Object(r.m)(n),{"errMsg":n}}function combineOptions(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.assign({},e,t)}function stringfiyUrl(e,t){var n=e;if(t&&Object(r.n)(t,"Object")){var o=n.includes("?");n+=(o?"&":"?")+Object(c.stringify)(t)}return n}},"188":function(e,t,n){"use strict";var r=n(19),c=n(187);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function usePromise(e){return function(t){var n;if(!e)return Promise.reject(Object(c.b)(e,"please input a valid method name"));var o=null!=(n=null==e?void 0:e.name)?n:"usePromise::implementMethod";return new Promise((function(n,i){try{if(!Object(r.g)(e))throw new TypeError("["+o+"] not vaild for Taro");var u;null==(u=e(_extends({},t||{},{"success":n,"fail":i})))||null==u.catch||u.catch(i)}catch(e){i(Object(c.b)(o,e.message))}}))}}},"189":function(e,t,n){"use strict";t.decode=t.parse=n(190),t.encode=t.stringify=n(191)},"190":function(e,t,n){"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,c){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var u=1e3;c&&"number"==typeof c.maxKeys&&(u=c.maxKeys);var a=e.length;u>0&&a>u&&(a=u);for(var s=0;s<a;++s){var l,b,f,p,O=e[s].replace(i,"%20"),j=O.indexOf(n);j>=0?(l=O.substr(0,j),b=O.substr(j+1)):(l=O,b=""),f=decodeURIComponent(l),p=decodeURIComponent(b),hasOwnProperty(o,f)?r(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"191":function(e,t,n){"use strict";var r=n(22).default,c=function stringifyPrimitive(e){switch(r(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,u){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===r(e)?map(i(e),(function(r){var i=encodeURIComponent(c(r))+n;return o(e[r])?map(e[r],(function(e){return i+encodeURIComponent(c(e))})).join(t):i+encodeURIComponent(c(e[r]))})).join(t):u?encodeURIComponent(c(u))+n+encodeURIComponent(c(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"192":function(e,t,n){"use strict";var r=n(8),c=n(333),o=n(188),i=n(187);t.a=function useModal(e){var t=r.a.useTaroRef(e);r.a.useTaroEffect((function(){t.current=e}),[e]);var n=Object(o.a)(c.g);return function show(e){if(!e&&!t.current)return Promise.reject(Object(i.b)("showModal","please provide a option"));var r=Object(i.a)(t.current,e);return n(r)}}},"199":function(e,t,n){"use strict";var r=n(8);t.a=function useVisible(){var e=r.a.useTaroState(!0),t=e[0],n=e[1],c=function listenVisible(){var e=document.visibilityState;n("visible"===e)};return r.a.useTaroEffect((function(){return window.addEventListener("visibilitychange",c,!1),window.addEventListener("focus",c,!1),window.addEventListener("blur",c,!1),function(){window.removeEventListener("visibilitychange",c,!1),window.removeEventListener("focus",c,!1),window.removeEventListener("blur",c,!1)}}),[]),r.a.useDidHide((function(){n(!1)})),t}},"222":function(e,t,n){"use strict";var r=n(8),c=n(11),o=Object(c.h)("authorizeForMiniProgram"),i=Object(c.h)("authorize"),u=Object(c.h)("openSetting"),a=Object(c.h)("getSetting"),s=n(199),l=n(188);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function useAuthorize(e){var t=Object(s.a)(),n=r.a.useTaroState({"mini":{}}),c=n[0],b=n[1],f=r.a.useTaroState({}),p=f[0],O=f[1],j=Object(l.a)(i),d=Object(l.a)(o),v=Object(l.a)(a),m=function get(e){return v({"withSubscriptions":e}).then((function(e){var t=e.authSetting,n=e.subscriptionsSetting,r=e.miniprogramAuthSetting;return b(_extends({},t,{"mini":r})),O(n),e}))},h=Object(l.a)(u);return r.a.useTaroEffect((function(){m(e)}),[t]),{"authSetting":c,"subscriptionsSetting":p,"authorize":function authorize(e,t){var n={"scope":e};return t?d(n):j(n)},"get":m,"open":function open(e){return h({"withSubscriptions":e}).then((function(e){var t=e.authSetting,n=e.subscriptionsSetting;return b(_extends({},t,{"mini":c.mini})),O(n),e}))}}}},"341":function(e,t,n){"use strict";n.r(t);var r=n(6),c=n(3),o=n(12),i=n(222),u=n(192),a=n(0),s=Object(a.createTextVNode)("暂无信息"),l=Object(a.createTextVNode)("打开设置"),b=Object(a.createTextVNode)("授权");const f=Object(a.defineComponent)({"name":"index","setup":function setup(e){var t,n=Object(u.a)({"title":"授权结果","mask":!0,"showCancel":!1}),f=Object(i.a)(!0),p=f.authSetting,O=f.subscriptionsSetting,j=f.authorize,d=f.open,v=null===(t=Object.keys(p))||void 0===t?void 0:t.length,m=function(){var e=Object(o.a)(Object(c.a)().mark((function _callee(){var e;return Object(c.a)().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e="授权成功",t.prev=1,t.next=4,j("scope.userInfo");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e="授权失败";case 9:n({"content":e});case 10:case"end":return t.stop()}}),_callee,null,[[1,6]])})));return function handleAuth(){return e.apply(this,arguments)}}();return function(e,t){var n=Object(a.resolveComponent)("nut-cell"),c=Object(a.resolveComponent)("nut-cell-group"),o=Object(a.resolveComponent)("nut-button"),i=Object(a.resolveComponent)("demo-content");return Object(a.openBlock)(),Object(a.createBlock)(i,null,{"default":Object(a.withCtx)((function(){return[Object(a.unref)(v)?(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,{"key":1},Object(a.renderList)([Object(a.unref)(p),Object(a.unref)(O)],(function(e){return Object(a.openBlock)(),Object(a.createElementBlock)(a.Fragment,null,[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(e,(function(e,t){return Object(a.openBlock)(),Object(a.createBlock)(c,{"title":"授权 - "+t,"key":t},{"default":Object(a.withCtx)((function(){return[["string","boolean"].includes(Object(r.a)(e))?(Object(a.openBlock)(),Object(a.createBlock)(n,{"key":0,"title":"授权 - "+t,"desc":String(e)},null,8,["title","desc"])):(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,{"key":1},Object(a.renderList)(e,(function(e,t){return Object(a.openBlock)(),Object(a.createBlock)(n,{"key":t,"title":"授权 - "+t,"desc":String(e)},null,8,["title","desc"])})),128))]})),"_":2},1032,["title"])})),128))],64)})),256)):(Object(a.openBlock)(),Object(a.createBlock)(n,{"key":0},{"default":Object(a.withCtx)((function(){return[s]})),"_":1})),Object(a.createVNode)(o,{"shape":"square","type":"primary","class":"gap","block":"","onClick":t[0]||(t[0]=function(e){return Object(a.unref)(d)(!0)})},{"default":Object(a.withCtx)((function(){return[l]})),"_":1}),Object(a.createVNode)(o,{"shape":"square","type":"primary","class":"gap","block":"","onClick":t[1]||(t[1]=function(e){return m()})},{"default":Object(a.withCtx)((function(){return[b]})),"_":1})]})),"_":1})}}});t.default=f}}]);