(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"187":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return generateGeneralFail})),n.d(t,"a",(function(){return combineOptions})),n.d(t,"d",(function(){return stringfiyUrl}));var r=n(19),o=n(189);var c=!0,a=function typeOf(e,t){return[t].flat().some((function(t){return Object.prototype.toString.call(e)==="[object "+t+"]"}))};function generateGeneralFail(e,t){var n="[API "+e+"] "+(t=t||"调用失败");return c||Object(r.m)(n),{"errMsg":n}}function combineOptions(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.assign({},e,t)}function stringfiyUrl(e,t){var n=e;if(t&&Object(r.n)(t,"Object")){var c=n.includes("?");n+=(c?"&":"?")+Object(o.stringify)(t)}return n}},"188":function(e,t,n){"use strict";var r=n(19),o=n(187);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function usePromise(e){return function(t){var n;if(!e)return Promise.reject(Object(o.b)(e,"please input a valid method name"));var c=null!=(n=null==e?void 0:e.name)?n:"usePromise::implementMethod";return new Promise((function(n,a){try{if(!Object(r.g)(e))throw new TypeError("["+c+"] not vaild for Taro");var u;null==(u=e(_extends({},t||{},{"success":n,"fail":a})))||null==u.catch||u.catch(a)}catch(e){a(Object(o.b)(c,e.message))}}))}}},"189":function(e,t,n){"use strict";t.decode=t.parse=n(190),t.encode=t.stringify=n(191)},"190":function(e,t,n){"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var c={};if("string"!=typeof e||0===e.length)return c;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var i=e.length;u>0&&i>u&&(i=u);for(var s=0;s<i;++s){var f,p,l,d,b=e[s].replace(a,"%20"),v=b.indexOf(n);v>=0?(f=b.substr(0,v),p=b.substr(v+1)):(f=b,p=""),l=decodeURIComponent(f),d=decodeURIComponent(p),hasOwnProperty(c,l)?r(c[l])?c[l].push(d):c[l]=[c[l],d]:c[l]=d}return c};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"191":function(e,t,n){"use strict";var r=n(22).default,o=function stringifyPrimitive(e){switch(r(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,u){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===r(e)?map(a(e),(function(r){var a=encodeURIComponent(o(r))+n;return c(e[r])?map(e[r],(function(e){return a+encodeURIComponent(o(e))})).join(t):a+encodeURIComponent(o(e[r]))})).join(t):u?encodeURIComponent(o(u))+n+encodeURIComponent(o(e)):""};var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"192":function(e,t,n){"use strict";var r=n(8),o=n(333),c=n(188),a=n(187);t.a=function useModal(e){var t=r.a.useTaroRef(e);r.a.useTaroEffect((function(){t.current=e}),[e]);var n=Object(c.a)(o.g);return function show(e){if(!e&&!t.current)return Promise.reject(Object(a.b)("showModal","please provide a option"));var r=Object(a.a)(t.current,e);return n(r)}}},"208":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11),o=(Object(r.h)("updateWeChatApp"),Object(r.h)("getUpdateManager"))},"328":function(e,t,n){"use strict";n.r(t);var r=n(8),o=n(208);var c=function useUpdateManager(e){var t=r.a.useTaroRef(Object(o.a)()),n=r.a.useTaroRef({});r.a.useTaroEffect((function(){t.current&&(t.current.onCheckForUpdate((function(e){n.current.hasUpdate=e.hasUpdate})),t.current.onUpdateFailed((function(){n.current.error=!0})),t.current.onUpdateReady((function(){n.current.ready=!0})))}),[t.current]),r.a.useTaroEffect((function(){null==e||e(t.current,n.current)}),[n.current])},a=n(192),u=n(0),i=Object(u.createTextVNode)("检查更新中....");const s=Object(u.defineComponent)({"name":"index","setup":function setup(e){var t=Object(a.a)({"mask":!0,"title":"更新","showCancel":!1});return c((function(e,n){var r=n.hasUpdate,o=n.error,c=n.ready;o?t({"content":"更新失败, 请重试!"}).then((function(){e.applyUpdate()})):c?t({"content":"新版本已经准备好, 是否重启?","showCancel":!0}).then((function(t){t.confirm&&e.applyUpdate()})):r&&t({"content":"检测到新版本, 是否更新?","showCancel":!0})})),function(e,t){var n=Object(u.resolveComponent)("taro-view"),r=Object(u.resolveComponent)("demo-content");return Object(u.openBlock)(),Object(u.createBlock)(r,null,{"default":Object(u.withCtx)((function(){return[Object(u.createVNode)(n,null,{"default":Object(u.withCtx)((function(){return[i]})),"_":1})]})),"_":1})}}});t.default=s}}]);