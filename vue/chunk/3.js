/*! For license information please see 3.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"187":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"b",(function(){return generateGeneralFail})),r.d(t,"a",(function(){return combineOptions})),r.d(t,"d",(function(){return stringfiyUrl}));var n=r(19),i=r(189);var a=!0,o=function typeOf(e,t){return[t].flat().some((function(t){return Object.prototype.toString.call(e)==="[object "+t+"]"}))};function generateGeneralFail(e,t){var r="[API "+e+"] "+(t=t||"调用失败");return a||Object(n.m)(r),{"errMsg":r}}function combineOptions(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.assign({},e,t)}function stringfiyUrl(e,t){var r=e;if(t&&Object(n.n)(t,"Object")){var a=r.includes("?");r+=(a?"&":"?")+Object(i.stringify)(t)}return r}},"188":function(e,t,r){"use strict";var n=r(19),i=r(187);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function usePromise(e){return function(t){var r;if(!e)return Promise.reject(Object(i.b)(e,"please input a valid method name"));var a=null!=(r=null==e?void 0:e.name)?r:"usePromise::implementMethod";return new Promise((function(r,o){try{if(!Object(n.g)(e))throw new TypeError("["+a+"] not vaild for Taro");var s;null==(s=e(_extends({},t||{},{"success":r,"fail":o})))||null==s.catch||s.catch(o)}catch(e){o(Object(i.b)(a,e.message))}}))}}},"189":function(e,t,r){"use strict";t.decode=t.parse=r(190),t.encode=t.stringify=r(191)},"190":function(e,t,r){"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var l,f,h,d,p=e[u].replace(o,"%20"),m=p.indexOf(r);m>=0?(l=p.substr(0,m),f=p.substr(m+1)):(l=p,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),hasOwnProperty(a,h)?n(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"191":function(e,t,r){"use strict";var n=r(22).default,i=function stringifyPrimitive(e){switch(n(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===n(e)?map(o(e),(function(n){var o=encodeURIComponent(i(n))+r;return a(e[n])?map(e[n],(function(e){return o+encodeURIComponent(i(e))})).join(t):o+encodeURIComponent(i(e[n]))})).join(t):s?encodeURIComponent(i(s))+r+encodeURIComponent(i(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},"197":function(e,t,r){"use strict";var n=r(8),i=r(333),a=r(188),o=r(187);t.a=function useToast(e){var t=n.a.useTaroRef(e);n.a.useTaroEffect((function(){t.current=e}),[e]);var r=Object(a.a)(i.h);return{"show":function show(e){if(!e&&!t.current)return Promise.reject(Object(o.b)("showToast","please provide a option"));var n=Object(o.a)(t.current,e);return r(n)},"hide":Object(a.a)(i.d)}}},"220":function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return u}));var n=r(250),i=r.n(n),a=r(187);function _await(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function _async(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function _catch(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var o=_async((function(e){return function checkBase64Prefix(e){return e.startsWith("data:")}(e)?function dataURITOBlob(e){for(var t,r=e.split(","),n=r[0],i=r[1],a=null==n||null==n.match||null==(t=n.match(/:(.*?);/))?void 0:t[1],o=i.length,s=new Uint8Array(o);o--;)s[o]=i.charCodeAt(o);return new Blob([s],{"type":a})}(e):_await(fetch(e),(function(e){return _await(e.blob())}))})),s=function generateBlobUrl(e){var t=new Blob([e],{"type":e.type});return window.URL.createObjectURL(t)},c=_async((function(e){var t=!1,r=e.filePath,n=e.success,i=e.fail,c=Object(a.b)("saveImageToPhotosAlbum");return function _invoke(e,t){var r=e();return r&&r.then?r.then(t):t(r)}((function(){if(r)return _catch((function(){return _await(o(r),(function(e){var r=s(e),i=document.createElement("a");i.href=r,i.download=Date.now()+"",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r);var a={"errMsg":"saveImageToPhotosAlbum: success"};return null==n||n(a),t=!0,a}))}),(function(e){var r=Object(a.b)("saveImageToPhotosAlbum",e.message);return null==i||i(r),t=!0,r}))}),(function(e){return t?e:(null==i||i(c),c)}))})),u=_async((function(e){var t=e.src,r=e.quality,n=void 0===r?80:r,c=e.success,u=e.fail;return _catch((function(){return _await(o(t),(function(e){return _await(new Promise((function(t,r){new i.a(e,{"quality":n/100,"success":function success(e){var r={"tempFilePath":s(e),"errMsg":"compressImage:ok"};null==c||c(r),t(r)},"error":function error(e){var t=Object(a.b)("compressImage",e.message);null==u||u(t),r(t)}})})))}))}),(function(e){return Object(a.b)("compressImage",e.errMsg||e.message)}))}))},"250":function(e,t,r){var n,i,a,o=r(22).default;a=function(){"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{"value":r,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=r,e}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var e={"exports":{}};!function(e){"undefined"!=typeof window&&"undefined"!=typeof window&&function(t){var r=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,n=!!r,i=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),a=i&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,s=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,c=(i||o)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,r,n,c,u,l,f,h,d;if(!(t=e.match(s)))throw new Error("invalid data URI");for(r=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),n=!!t[4],c=e.slice(t[0].length),u=n?atob(c):decodeURIComponent(c),l=new ArrayBuffer(u.length),f=new Uint8Array(l),h=0;h<u.length;h+=1)f[h]=u.charCodeAt(h);return i?new Blob([a?f:l],{"type":r}):((d=new o).append(l),d.getBlob(r))};n&&t.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(e,t,n){var i=this;setTimeout((function(){n&&r.toDataURL&&c?e(c(i.toDataURL(t,n))):e(i.mozGetAsFile("blob",t))}))}:r.toDataURL&&c&&(r.msToBlob?r.toBlob=function(e,t,n){var i=this;setTimeout((function(){(t&&"image/png"!==t||n)&&r.toDataURL&&c?e(c(i.toDataURL(t,n))):e(i.msToBlob(t))}))}:r.toBlob=function(e,t,r){var n=this;setTimeout((function(){e(c(n.toDataURL(t,r)))}))})),e.exports?e.exports=c:t.dataURLtoBlob=c}(globalThis||window)}(e);var t=e.exports,r={"strict":!0,"checkOrientation":!0,"maxWidth":1/0,"maxHeight":1/0,"minWidth":0,"minHeight":0,"width":void 0,"height":void 0,"resize":"none","quality":.8,"mimeType":"auto","convertTypes":["image/png"],"convertSize":5e6,"beforeDraw":null,"drew":null,"success":null,"error":null},n="undefined"!=typeof window&&void 0!==window.document?window:{},i=function isPositiveNumber(e){return e>0&&e<1/0},a=Array.prototype.slice,o=/^image\/.+$/;function isImageType(e){return o.test(e)}var s=String.fromCharCode,c=n.btoa;function resetAndGetOrientation(e){var t,r=new DataView(e);try{var n,i,a;if(255===r.getUint8(0)&&216===r.getUint8(1))for(var o=r.byteLength,c=2;c+1<o;){if(255===r.getUint8(c)&&225===r.getUint8(c+1)){i=c;break}c+=1}if(i){var u=i+10;if("Exif"===function getStringFromCharCode(e,t,r){var n,i="";for(r+=t,n=t;n<r;n+=1)i+=s(e.getUint8(n));return i}(r,i+4,4)){var l=r.getUint16(u);if(((n=18761===l)||19789===l)&&42===r.getUint16(u+2,n)){var f=r.getUint32(u+4,n);f>=8&&(a=u+f)}}}if(a){var h,d,p=r.getUint16(a,n);for(d=0;d<p;d+=1)if(h=a+12*d+2,274===r.getUint16(h,n)){h+=8,t=r.getUint16(h,n),r.setUint16(h,1,n);break}}}catch(e){t=1}return t}var u=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return u.test(e)?Math.round(e*t)/t:e}function getAdjustedSizes(e){var t=e.aspectRatio,r=e.height,n=e.width,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",o=i(n),s=i(r);if(o&&s){var c=r*t;("contain"===a||"none"===a)&&c>n||"cover"===a&&c<n?r=n/t:n=r*t}else o?r=n/t:s&&(n=r*t);return{"width":n,"height":r}}var l=n.ArrayBuffer,f=n.FileReader,h=n.URL||n.webkitURL,d=/\.\w+$/,p=n.Compressor;return function(){function Compressor(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Compressor),this.file=e,this.image=new Image,this.options=_objectSpread2(_objectSpread2({},r),t),this.aborted=!1,this.result=null,this.init()}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{"writable":!1}),e}(Compressor,[{"key":"init","value":function init(){var e=this,t=this.file,r=this.options;if(function isBlob(e){return"undefined"!=typeof Blob&&(e instanceof Blob||"[object Blob]"===Object.prototype.toString.call(e))}(t)){var n=t.type;if(isImageType(n))if(h&&f)if(l||(r.checkOrientation=!1),h&&!r.checkOrientation)this.load({"url":h.createObjectURL(t)});else{var i=new f,o=r.checkOrientation&&"image/jpeg"===n;this.reader=i,i.onload=function(r){var i=r.target.result,u={};if(o){var l=resetAndGetOrientation(i);l>1||!h?(u.url=function arrayBufferToDataURL(e,t){for(var r,n=[],i=new Uint8Array(e);i.length>0;)n.push(s.apply(null,(r=i.subarray(0,8192),Array.from?Array.from(r):a.call(r)))),i=i.subarray(8192);return"data:".concat(t,";base64,").concat(c(n.join("")))}(i,n),l>1&&_extends(u,function parseOrientation(e){var t=0,r=1,n=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90}return{"rotate":t,"scaleX":r,"scaleY":n}}(l))):u.url=h.createObjectURL(t)}else u.url=i;e.load(u)},i.onabort=function(){e.fail(new Error("Aborted to read the image with FileReader."))},i.onerror=function(){e.fail(new Error("Failed to read the image with FileReader."))},i.onloadend=function(){e.reader=null},o?i.readAsArrayBuffer(t):i.readAsDataURL(t)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{"key":"load","value":function load(e){var t=this,r=this.file,i=this.image;i.onload=function(){t.draw(_objectSpread2(_objectSpread2({},e),{},{"naturalWidth":i.naturalWidth,"naturalHeight":i.naturalHeight}))},i.onabort=function(){t.fail(new Error("Aborted to load the image."))},i.onerror=function(){t.fail(new Error("Failed to load the image."))},n.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(n.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=r.name,i.src=e.url}},{"key":"draw","value":function draw(e){var r=this,n=e.naturalWidth,a=e.naturalHeight,o=e.rotate,s=void 0===o?0:o,c=e.scaleX,u=void 0===c?1:c,l=e.scaleY,f=void 0===l?1:l,h=this.file,d=this.image,p=this.options,m=document.createElement("canvas"),b=m.getContext("2d"),v=Math.abs(s)%180==90,g=("contain"===p.resize||"cover"===p.resize)&&i(p.width)&&i(p.height),y=Math.max(p.maxWidth,0)||1/0,w=Math.max(p.maxHeight,0)||1/0,j=Math.max(p.minWidth,0)||0,O=Math.max(p.minHeight,0)||0,U=n/a,P=p.width,T=p.height;if(v){var A=[w,y];y=A[0],w=A[1];var R=[O,j];j=R[0],O=R[1];var B=[T,P];P=B[0],T=B[1]}g&&(U=P/T);var x=getAdjustedSizes({"aspectRatio":U,"width":y,"height":w},"contain");y=x.width,w=x.height;var k=getAdjustedSizes({"aspectRatio":U,"width":j,"height":O},"cover");if(j=k.width,O=k.height,g){var C=getAdjustedSizes({"aspectRatio":U,"width":P,"height":T},p.resize);P=C.width,T=C.height}else{var _=getAdjustedSizes({"aspectRatio":U,"width":P,"height":T}),I=_.width;P=void 0===I?n:I;var D=_.height;T=void 0===D?a:D}var M=-(P=Math.floor(normalizeDecimalNumber(Math.min(Math.max(P,j),y))))/2,S=-(T=Math.floor(normalizeDecimalNumber(Math.min(Math.max(T,O),w))))/2,z=P,L=T,E=[];if(g){var F,H,W,K,G=getAdjustedSizes({"aspectRatio":U,"width":n,"height":a},{"contain":"cover","cover":"contain"}[p.resize]);W=G.width,K=G.height,F=(n-W)/2,H=(a-K)/2,E.push(F,H,W,K)}if(E.push(M,S,z,L),v){var q=[T,P];P=q[0],T=q[1]}m.width=P,m.height=T,isImageType(p.mimeType)||(p.mimeType=h.type);var N="transparent";if(h.size>p.convertSize&&p.convertTypes.indexOf(p.mimeType)>=0&&(p.mimeType="image/jpeg"),"image/jpeg"===p.mimeType&&(N="#fff"),b.fillStyle=N,b.fillRect(0,0,P,T),p.beforeDraw&&p.beforeDraw.call(this,b,m),!this.aborted&&(b.save(),b.translate(P/2,T/2),b.rotate(s*Math.PI/180),b.scale(u,f),b.drawImage.apply(b,[d].concat(E)),b.restore(),p.drew&&p.drew.call(this,b,m),!this.aborted)){var $=function done(e){r.aborted||r.done({"naturalWidth":n,"naturalHeight":a,"result":e})};m.toBlob?m.toBlob($,p.mimeType,p.quality):$(t(m.toDataURL(p.mimeType,p.quality)))}}},{"key":"done","value":function done(e){var t=e.naturalWidth,r=e.naturalHeight,n=e.result,i=this.file,a=this.image,o=this.options;if(h&&!o.checkOrientation&&h.revokeObjectURL(a.src),n)if(o.strict&&n.size>i.size&&o.mimeType===i.type&&!(o.width>t||o.height>r||o.minWidth>t||o.minHeight>r||o.maxWidth<t||o.maxHeight<r))n=i;else{var s=new Date;n.lastModified=s.getTime(),n.lastModifiedDate=s,n.name=i.name,n.name&&n.type!==i.type&&(n.name=n.name.replace(d,function imageTypeToExtension(e){var t=isImageType(e)?e.substr(6):"";return"jpeg"===t&&(t="jpg"),".".concat(t)}(n.type)))}else n=i;this.result=n,o.success&&o.success.call(this,n)}},{"key":"fail","value":function fail(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{"key":"abort","value":function abort(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{"key":"noConflict","value":function noConflict(){return window.Compressor=p,Compressor}},{"key":"setDefaults","value":function setDefaults(e){_extends(r,e)}}]),Compressor}()},"object"===o(t)&&void 0!==e?e.exports=a():void 0===(i="function"==typeof(n=a)?n.call(t,r,t,e):n)||(e.exports=i)}}]);