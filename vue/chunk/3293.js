"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[3293],{"4992":function(e,t,n){var r=n(2535),a=n(4012),o=n(6881),u=n(9524);t.Z=function useModal(e){var t=(0,a.sO)(e);(0,a.d4)((function(){t.current=e}),[e]);var n=(0,o.Z)(r.showModal);return function show(e){if(!e&&!t.current)return Promise.reject((0,u.Hv)("showModal","please provide a option"));var r=(0,u.JA)(t.current,e);return n(r)}}},"6881":function(e,t,n){var r=n(969),a=n(9524);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}t.Z=function usePromise(e){return function(t){var n;if(!e)return Promise.reject((0,a.Hv)(e,"please input a valid method name"));var o=null!=(n=null==e?void 0:e.name)?n:"usePromise::implementMethod";return new Promise((function(n,u){try{if(!(0,r.mf)(e))throw new TypeError("["+o+"] not vaild for Taro");var c;null==(c=e(_extends({},t||{},{"success":n,"fail":u})))||null==c.catch||c.catch(u)}catch(e){u((0,a.Hv)(o,e.message))}}))}}},"9524":function(e,t,n){n.d(t,{"BB":function(){return o},"kM":function(){return u},"Hv":function(){return generateGeneralFail},"JA":function(){return combineOptions},"vL":function(){return stringfiyUrl}});var r=n(969),a=n(9059);var o=!0,u=function typeOf(e,t){return[t].flat().some((function(t){return Object.prototype.toString.call(e)==="[object "+t+"]"}))};function generateGeneralFail(e,t){var n="[API "+e+"] "+(t=t||"调用失败");return o||(0,r.H)(n),{"errMsg":n}}function combineOptions(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.assign({},e,t)}function stringfiyUrl(e,t){var n=e;if(t&&(0,r.hM)(t,"Object")){var o=n.includes("?");n+=(o?"&":"?")+(0,a.stringify)(t)}return n}},"3293":function(e,t,n){n.r(t),n.d(t,{"default":function(){return g}});var r=n(4992),a=n(94),o=n(1503),u=n(2535),c=n.n(u),i=n(4012),l=n(969),s=n(9524);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}var f=function useActivePromise(e,t){var n=function generator(t){return function(n){var r,a=null==(r=(0,l.JR)(t))?void 0:r[e];if(!a)return Promise.reject((0,s.Hv)(e,"please input a valid method name"));var o=null!=e?e:"usePromise::implementMethod";return new Promise((function(e,t){try{if(!(0,l.mf)(a))throw new TypeError("["+o+"] not vaild for Taro");var r;null==(r=a(_extends({},n||{},{"success":e,"fail":t})))||null==r.catch||r.catch(t)}catch(e){t((0,s.Hv)(o,e.message))}}))}},r=(0,i.eJ)((function(){return n(t)})),a=r[0],o=r[1],u=(0,i.sO)(n(t));return(0,i.d4)((function(){t&&l.z$&&o((function(){return n(t)}))}),[t]),l.Eq?u.current:a};var d=function useMap(e,t){var n=(0,i.eJ)(),r=n[0],a=n[1],o=(0,i.eJ)({})[1];c().useReady((function(){a(t?(0,u.createMapContext)(e,t):(0,u.createMapContext)(e))})),(0,i.d4)((function(){r&&l.z$&&o({})}),[r]);var s=f("getCenterLocation",r),d=f("getRegion",r),p=f("getRotate",r),v=f("getScale",r),m=f("getSkew",r),h=f("openMapApp",r),g=f("includePoints",r),k=f("moveToLocation",r),w=f("translateMarker",r),y=f("addMarkers",r),x=f("removeMarkers",r);return[r,{"get":function get(e){var t=e?{"iconPath":e}:{};return Promise.all([s(t),d(),p(),v(),m()]).then((function(e){return{"center":e[0],"region":e[1],"rotate":e[2],"scale":e[3],"skew":e[4]}}))},"open":h,"include":function include(e,t){return void 0===t&&(t=[]),g({"points":e,"padding":t})},"moveTo":k,"translate":w,"toggleMarkers":function toggleMarkers(e,t){return void 0===t&&(t=!1),Array.isArray(e)&&e.every(l.hj)?x({"markerIds":e}):y({"markers":e,"clear":t})}}]},p=n(5043),v=n(8530),m=n(2053),h=(0,m.defineComponent)({"__name":"index","setup":function setup(e){var t="demo-map-id",u=[{"latitude":30.653186,"longitude":104.083735},{"latitude":30.655546,"longitude":104.0778}],c=[(0,v.Z)({"id":0,"title":"太古里marker","iconPath":n(3823),"width":50,"height":50},u[1])],s={"autoRotate":!0,"moveWithRotate":!0,"markerId":0,"rotate":0,"destination":u[0]},f=d(t),h=(0,p.Z)(f,2),g=h[0],k=h[1],w=k.get,y=k.include,x=k.moveTo,b=k.translate,_=k.toggleMarkers,C=(0,i.eJ)({}),M=(0,p.Z)(C,2),O=M[0],P=M[1],Z=function(){var e=(0,o.Z)((0,a.Z)().mark((function _callee(){var e;return(0,a.Z)().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w();case 3:e=t.sent,P(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),J({"content":"获取中心位置失败"});case 10:case"end":return t.stop()}}),_callee,null,[[0,7]])})));return function handleGetInfo(){return e.apply(this,arguments)}}(),j=function(){var e=(0,o.Z)((0,a.Z)().mark((function _callee2(){return(0,a.Z)().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(u);case 3:J({"content":"设置经纬成功"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),J({"content":"设置经纬失败"});case 9:case"end":return e.stop()}}),_callee2,null,[[0,6]])})));return function handleInclude(){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.Z)((0,a.Z)().mark((function _callee3(){return(0,a.Z)().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(c,!0);case 3:return x(u[0]),e.next=6,b(s);case 6:J({"content":"平移marker成功"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),J({"content":"平移marker失败"});case 12:case"end":return e.stop()}}),_callee3,null,[[0,9]])})));return function handleTranslate(){return e.apply(this,arguments)}}();(0,i.d4)((function(){(0,l.JR)(g)&&(Z(),_(c,!0))}),[g]);var J=(0,r.Z)({"title":"useMap","showCancel":!1,"mask":!0});return function(e,n){var r=(0,m.resolveComponent)("taro-map"),a=(0,m.resolveComponent)("nut-button"),o=(0,m.resolveComponent)("nut-cell"),u=(0,m.resolveComponent)("nut-cell-group"),i=(0,m.resolveComponent)("demo-content");return(0,m.openBlock)(),(0,m.createBlock)(i,null,{"default":(0,m.withCtx)((function(){var i,l,s,f;return[(0,m.createVNode)(r,{"class":"gap","id":t,"show-location":!0,"show-scale":!0,"show-compass":!0,"latitude":null===(i=(0,m.unref)(O))||void 0===i||null===(l=i.center)||void 0===l?void 0:l.latitude,"longitude":null===(s=(0,m.unref)(O))||void 0===s||null===(f=s.center)||void 0===f?void 0:f.longitude,"markers":c},null,8,["latitude","longitude"]),(0,m.createVNode)(a,{"shape":"square","type":"primary","class":"gap","block":"","onClick":n[0]||(n[0]=function(e){return j()})},{"default":(0,m.withCtx)((function(){return[(0,m.createTextVNode)("展示指定经纬")]})),"_":1}),(0,m.createVNode)(a,{"shape":"square","type":"primary","class":"gap","block":"","onClick":n[1]||(n[1]=function(e){return(0,m.unref)(x)()})},{"default":(0,m.withCtx)((function(){return[(0,m.createTextVNode)("移至当前定位")]})),"_":1}),(0,m.createVNode)(a,{"shape":"square","type":"primary","class":"gap","block":"","onClick":n[2]||(n[2]=function(e){return T()})},{"default":(0,m.withCtx)((function(){return[(0,m.createTextVNode)("平移marker")]})),"_":1}),(0,m.createVNode)(a,{"shape":"square","type":"primary","class":"gap","block":"","onClick":n[3]||(n[3]=function(e){return(0,m.unref)(_)([0])})},{"default":(0,m.withCtx)((function(){return[(0,m.createTextVNode)("移除所有marker")]})),"_":1}),(0,m.createVNode)(u,{"title":"地图信息"},{"default":(0,m.withCtx)((function(){return[((0,m.openBlock)(!0),(0,m.createElementBlock)(m.Fragment,null,(0,m.renderList)((0,m.unref)(O),(function(t,n){return(0,m.openBlock)(),(0,m.createBlock)(o,{"key":n,"title":n,"sub-title":e.$filters.stringify(t)},null,8,["title","sub-title"])})),128))]})),"_":1})]})),"_":1})}}});var g=h}}]);