(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"202":function(e,t,r){"use strict";var c=r(8);t.a=function useToggle(e,t){void 0===e&&(e=!1);var r=c.a.useTaroState(e),n=r[0],o=r[1];return[n,c.a.useTaroMemo((function(){var r=void 0===t?!e:t;return{"toggle":function toggle(){return o((function(t){return t===e?r:e}))},"set":function set(e){return o(e)},"setLeft":function setLeft(){return o(e)},"setRight":function setRight(){return o(r)}}}),[])]}},"214":function(e,t,r){"use strict";r.d(t,"g",(function(){return a})),r.d(t,"f",(function(){return u})),r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return g})),r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return d}));var c=r(6),n=r(11),o=r(16);function getItem(e){var t;try{t=JSON.parse(localStorage.getItem(e)||"")}catch(e){}return t&&"object"===Object(c.a)(t)&&t.hasOwnProperty("data")?{"result":!0,"data":t.data}:{"result":!1}}var a=function setStorageSync(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof e){var r=Object(c.a)(t),o={};o="symbol"===r?{"data":""}:{"data":t},localStorage.setItem(e,JSON.stringify(o))}else console.error(Object(n.b)({"name":"setStorage","correct":"String","wrong":e}))},u=function setStorage(e){var t=Object(n.g)(e);if(!t.flag){var r={"errMsg":"setStorage:fail ".concat(t.msg)};return console.error(r.errMsg),Promise.reject(r)}var c=e.key,u=e.data,i=e.success,s=e.fail,l=e.complete,g=new o.b({"name":"setStorage","success":i,"fail":s,"complete":l});return"string"!=typeof c?g.fail({"errMsg":Object(n.b)({"para":"key","correct":"String","wrong":c})}):(a(c,u),g.success())},i=(Object(n.h)("revokeBufferURL"),function removeStorage(e){var t=Object(n.g)(e);if(!t.flag){var r={"errMsg":"removeStorage:fail ".concat(t.msg)};return console.error(r.errMsg),Promise.reject(r)}var c=e.key,a=e.success,u=e.fail,i=e.complete,s=new o.b({"name":"removeStorage","success":a,"fail":u,"complete":i});return"string"!=typeof c?s.fail({"errMsg":Object(n.b)({"para":"key","correct":"String","wrong":c})}):(function removeStorageSync(e){"string"==typeof e?localStorage.removeItem(e):console.error(Object(n.b)({"name":"removeStorage","correct":"String","wrong":e}))}(c),s.success())}),s=function getStorageSync(e){if("string"==typeof e){var t=getItem(e);return t.result?t.data:""}console.error(Object(n.b)({"name":"getStorageSync","correct":"String","wrong":e}))},l=function getStorageInfoSync(){return{"keys":Object.keys(localStorage),"limitSize":NaN,"currentSize":NaN}},g=function getStorageInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,r=e.fail,c=e.complete,n=new o.b({"name":"getStorageInfo","success":t,"fail":r,"complete":c});return n.success(l())},f=function getStorage(e){var t=Object(n.g)(e);if(!t.flag){var r={"errMsg":"getStorage:fail ".concat(t.msg)};return console.error(r.errMsg),Promise.reject(r)}var c=e.key,a=e.success,u=e.fail,i=e.complete,s=new o.b({"name":"getStorage","success":a,"fail":u,"complete":i});if("string"!=typeof c)return s.fail({"errMsg":Object(n.b)({"para":"key","correct":"String","wrong":c})});var l=getItem(c),g=l.result,f=l.data;return g?s.success({"data":f}):s.fail({"errMsg":"data not found"})},b=(Object(n.h)("createBufferURL"),function clearStorageSync(){localStorage.clear()}),d=function clearStorage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,r=e.fail,c=e.complete,n=new o.b({"name":"clearStorage","success":t,"fail":r,"complete":c});return b(),n.success()}},"287":function(e,t,r){"use strict";r.r(t);var c=r(0),n=Object(c.createTextVNode)(" show / hidden "),o=Object(c.createTextVNode)("Loading...");var a=r(3),u=r(195),i=r(15),s=r(12),l=r(19),g=r(202),f=r(214),b=r(194),d=r.n(b);function getArticle(){return _getArticle.apply(this,arguments)}function _getArticle(){return(_getArticle=Object(s.a)(Object(a.a)().mark((function _callee(){return Object(a.a)().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return console.log("cacheKey"),e.abrupt("return",new Promise((function(e){setTimeout((function(){e({"data":d.a.mock("@paragraph()"),"time":(new Date).getTime()})}),1e3)})));case 2:case"end":return e.stop()}}),_callee)})))).apply(this,arguments)}var j={"setup":function setup(){var e=Object(g.a)(!1),t=Object(i.a)(e,2),r=t[0],c=t[1],n=Object(u.a)(getArticle,{"cacheKey":"setCache-demo","setCache":function setCache(e){return Object(f.g)("setCache-demo",JSON.stringify(e))},"getCache":function getCache(){return JSON.parse(Object(f.d)("setCache-demo")||"{}")}});return{"state":r,"toggle":function toggle(){Object(l.e)(r)||Object(l.e)(n).run(),Object(l.e)(c).toggle()},"request":n}}},O=r(40);const m=r.n(O)()(j,[["render",function render(e,t,r,a,u,i){var s=Object(c.resolveComponent)("nut-button"),l=Object(c.resolveComponent)("nut-row"),g=Object(c.resolveComponent)("taro-view"),f=Object(c.resolveComponent)("taro-block"),b=Object(c.resolveComponent)("demo-content");return Object(c.openBlock)(),Object(c.createBlock)(f,null,{"default":Object(c.withCtx)((function(){return[Object(c.createVNode)(b,{"title":"缓存 & SWR - 自定义缓存"},{"default":Object(c.withCtx)((function(){return[Object(c.createVNode)(l,{"justify":"center"},{"default":Object(c.withCtx)((function(){return[Object(c.createVNode)(s,{"size":"small","type":"primary","shape":"square","block":"","onClick":t[0]||(t[0]=function(e){return a.toggle()})},{"default":Object(c.withCtx)((function(){return[n]})),"_":1})]})),"_":1}),Object(c.withDirectives)(Object(c.createVNode)(f,null,{"default":Object(c.withCtx)((function(){return[!a.request.data&&a.request.loading?(Object(c.openBlock)(),Object(c.createBlock)(g,{"key":0},{"default":Object(c.withCtx)((function(){return[o]})),"_":1})):(Object(c.openBlock)(),Object(c.createElementBlock)(c.Fragment,{"key":1},[Object(c.createVNode)(g,null,{"default":Object(c.withCtx)((function(){return[Object(c.createTextVNode)(" Background loading: "+Object(c.toDisplayString)(a.request.loading?"true":"false"),1)]})),"_":1}),Object(c.createVNode)(g,null,{"default":Object(c.withCtx)((function(){var e;return[Object(c.createTextVNode)("Latest request time: "+Object(c.toDisplayString)(null===(e=a.request.data)||void 0===e?void 0:e.time),1)]})),"_":1}),Object(c.createVNode)(g,null,{"default":Object(c.withCtx)((function(){var e;return[Object(c.createTextVNode)(Object(c.toDisplayString)(null===(e=a.request.data)||void 0===e?void 0:e.data),1)]})),"_":1})],64))]})),"_":1},512),[[c.vShow,a.state]])]})),"_":1})]})),"_":1})}]]);t.default=m}}]);