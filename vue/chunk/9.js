(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"187":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return generateGeneralFail})),n.d(t,"a",(function(){return combineOptions})),n.d(t,"d",(function(){return stringfiyUrl}));var r=n(19),o=n(189);var c=!0,i=function typeOf(e,t){return[t].flat().some((function(t){return Object.prototype.toString.call(e)==="[object "+t+"]"}))};function generateGeneralFail(e,t){var n="[API "+e+"] "+(t=t||"调用失败");return c||Object(r.m)(n),{"errMsg":n}}function combineOptions(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.assign({},e,t)}function stringfiyUrl(e,t){var n=e;if(t&&Object(r.n)(t,"Object")){var c=n.includes("?");n+=(c?"&":"?")+Object(o.stringify)(t)}return n}},"188":function(e,t,n){"use strict";var r=n(19),o=n(187);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function usePromise(e){return function(t){var n;if(!e)return Promise.reject(Object(o.b)(e,"please input a valid method name"));var c=null!=(n=null==e?void 0:e.name)?n:"usePromise::implementMethod";return new Promise((function(n,i){try{if(!Object(r.g)(e))throw new TypeError("["+c+"] not vaild for Taro");var u;null==(u=e(_extends({},t||{},{"success":n,"fail":i})))||null==u.catch||u.catch(i)}catch(e){i(Object(o.b)(c,e.message))}}))}}},"189":function(e,t,n){"use strict";t.decode=t.parse=n(190),t.encode=t.stringify=n(191)},"190":function(e,t,n){"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var c={};if("string"!=typeof e||0===e.length)return c;var i=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var a=e.length;u>0&&a>u&&(a=u);for(var s=0;s<a;++s){var f,l,b,p,v=e[s].replace(i,"%20"),d=v.indexOf(n);d>=0?(f=v.substr(0,d),l=v.substr(d+1)):(f=v,l=""),b=decodeURIComponent(f),p=decodeURIComponent(l),hasOwnProperty(c,b)?r(c[b])?c[b].push(p):c[b]=[c[b],p]:c[b]=p}return c};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"191":function(e,t,n){"use strict";var r=n(22).default,o=function stringifyPrimitive(e){switch(r(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,u){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===r(e)?map(i(e),(function(r){var i=encodeURIComponent(o(r))+n;return c(e[r])?map(e[r],(function(e){return i+encodeURIComponent(o(e))})).join(t):i+encodeURIComponent(o(e[r]))})).join(t):u?encodeURIComponent(o(u))+n+encodeURIComponent(o(e)):""};var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"192":function(e,t,n){"use strict";var r=n(8),o=n(333),c=n(188),i=n(187);t.a=function useModal(e){var t=r.a.useTaroRef(e);r.a.useTaroEffect((function(){t.current=e}),[e]);var n=Object(c.a)(o.g);return function show(e){if(!e&&!t.current)return Promise.reject(Object(i.b)("showModal","please provide a option"));var r=Object(i.a)(t.current,e);return n(r)}}},"199":function(e,t,n){"use strict";var r=n(8);t.a=function useVisible(){var e=r.a.useTaroState(!0),t=e[0],n=e[1],o=function listenVisible(){var e=document.visibilityState;n("visible"===e)};return r.a.useTaroEffect((function(){return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),window.addEventListener("blur",o,!1),function(){window.removeEventListener("visibilitychange",o,!1),window.removeEventListener("focus",o,!1),window.removeEventListener("blur",o,!1)}}),[]),r.a.useDidHide((function(){n(!1)})),t}},"222":function(e,t,n){"use strict";var r=n(8),o=n(11),c=Object(o.h)("authorizeForMiniProgram"),i=Object(o.h)("authorize"),u=Object(o.h)("openSetting"),a=Object(o.h)("getSetting"),s=n(199),f=n(188);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function useAuthorize(e){var t=Object(s.a)(),n=r.a.useTaroState({"mini":{}}),o=n[0],l=n[1],b=r.a.useTaroState({}),p=b[0],v=b[1],d=Object(f.a)(i),j=Object(f.a)(c),O=Object(f.a)(a),h=function get(e){return O({"withSubscriptions":e}).then((function(e){var t=e.authSetting,n=e.subscriptionsSetting,r=e.miniprogramAuthSetting;return l(_extends({},t,{"mini":r})),v(n),e}))},g=Object(f.a)(u);return r.a.useTaroEffect((function(){h(e)}),[t]),{"authSetting":o,"subscriptionsSetting":p,"authorize":function authorize(e,t){var n={"scope":e};return t?j(n):d(n)},"get":h,"open":function open(e){return g({"withSubscriptions":e}).then((function(e){var t=e.authSetting,n=e.subscriptionsSetting;return l(_extends({},t,{"mini":o.mini})),v(n),e}))}}}},"224":function(e,t,n){"use strict";var r=n(11),o=Object(r.h)("pluginLogin"),c=Object(r.h)("login"),i=Object(r.h)("checkSession"),u=n(188),a=n(187);function _empty(){}function _callIgnored(e,t){return function _call(e,t,n){if(n)return t?t(e()):e();try{var r=Promise.resolve(e());return t?r.then(t):r}catch(e){return Promise.reject(e)}}(e,_empty,t)}function _invoke(e,t){var n=e();return n&&n.then?n.then(t):t(n)}t.a=function useLogin(){var e=Object(u.a)(i),t=Object(u.a)(c),n=Object(u.a)(o),r=function _async(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}((function(r,o,c){var i=!r;return _invoke((function(){if(!i)return function _continueIgnored(e){if(e&&e.then)return e.then(_empty)}(function _catch(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return _callIgnored(e)}),(function(){i=!1})))}),(function(){var e=!1;return _invoke((function(){if(!i){var r=c?{"timeout":c}:{};return function _await(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}(o?n(r):t(r),(function(t){return e=!0,t}))}}),(function(t){return e?t:Object(a.b)("login","code is valid, do not use fetch new one!")}))}))}));return{"check":e,"login":r}}},"308":function(e,t,n){"use strict";n.r(t);var r=n(20),o=n(3),c=n(12),i=n(192),u=n(224),a=n(8),s=n(11),f=Object(s.h)("getUserProfile"),l=Object(s.h)("getUserInfo"),b=n(188),p=n(222),v=n(187);var d=function useUserInfo(){var e=a.a.useTaroState(),t=e[0],n=e[1],r=Object(p.a)().get,o=Object(b.a)(l),c=Object(b.a)(f);return[t,{"getUserInfo":function getUserInfo(e){return r().then((function(t){return t.authSetting["scope.userInfo"]?o(e).then((function(e){return n(e),e})):Object(v.b)("getUserInfo","please auth scope.userInfo first")}))},"getUserProfile":function getUserProfile(e){return c(e).then((function(e){return n(e),e}))}}]},j=n(15),O=n(0),h=Object(O.createTextVNode)("获取用户信息"),g=Object(O.createTextVNode)("获取用户信息(包含敏感信息)");const m=Object(O.defineComponent)({"name":"index","setup":function setup(e){var t=d(),n=Object(j.a)(t,2),a=n[0],s=void 0===a?{}:a,f=n[1],l=f.getUserInfo,b=f.getUserProfile,p=Object(u.a)().login,v=Object(i.a)({"mask":!0,"title":"获取结果","showCancel":!1}),m=function(){var e=Object(c.a)(Object(o.a)().mark((function _callee(){var e;return Object(o.a)().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e="获取成功",t.prev=1,t.next=4,p(!0);case 4:return t.next=6,l({"lang":"zh_CN","withCredentials":!0});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e=t.t0.errMsg||t.t0.message;case 11:v({"content":e});case 12:case"end":return t.stop()}}),_callee,null,[[1,8]])})));return function handleGetUserInfo(){return e.apply(this,arguments)}}();return function(e,t){var n=Object(O.resolveComponent)("nut-avatar"),o=Object(O.resolveComponent)("nut-col"),c=Object(O.resolveComponent)("nut-row"),i=Object(O.resolveComponent)("nut-button"),u=Object(O.resolveComponent)("nut-cell"),a=Object(O.resolveComponent)("nut-cell-group"),f=Object(O.resolveComponent)("demo-content");return Object(O.openBlock)(),Object(O.createBlock)(f,null,{"default":Object(O.withCtx)((function(){return[Object(O.createVNode)(c,{"type":"flex","gutter":"8","align":"center","justify":"center"},{"default":Object(O.withCtx)((function(){return[Object(O.createVNode)(o,{"span":"4"},{"default":Object(O.withCtx)((function(){var e,t;return[Object(O.createVNode)(n,{"size":"large","icon":null===(e=Object(O.unref)(s))||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.avatarUrl},null,8,["icon"])]})),"_":1}),Object(O.createVNode)(o,{"span":"20"},{"default":Object(O.withCtx)((function(){return[Object(O.createVNode)(c,{"type":"flex","flex-wrap":"wrap","align":"center","justify":"center"},{"default":Object(O.withCtx)((function(){return[Object(O.createVNode)(o,null,{"default":Object(O.withCtx)((function(){var e,t;return[Object(O.createTextVNode)("昵称: "+Object(O.toDisplayString)(null===(e=Object(O.unref)(s))||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.nickName),1)]})),"_":1}),Object(O.createVNode)(o,null,{"default":Object(O.withCtx)((function(){var e,t;return[Object(O.createTextVNode)("性别: "+Object(O.toDisplayString)(null===(e=Object(O.unref)(s))||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.gender),1)]})),"_":1})]})),"_":1})]})),"_":1})]})),"_":1}),Object(O.createVNode)(i,{"class":"gap","shape":"square","type":"primary","block":"","onClick":t[0]||(t[0]=function(e){return m()})},{"default":Object(O.withCtx)((function(){return[h]})),"_":1}),Object(O.createVNode)(i,{"class":"gap","shape":"square","type":"primary","block":"","onTap":t[1]||(t[1]=function(e){return Object(O.unref)(b)({"lang":"zh_CN","desc":"仅作为小程序展示使用"})})},{"default":Object(O.withCtx)((function(){return[g]})),"_":1}),Object(O.createVNode)(a,{"title":"用户信息"},{"default":Object(O.withCtx)((function(){var t,n;return[(Object(O.openBlock)(!0),Object(O.createElementBlock)(O.Fragment,null,Object(O.renderList)(Object(r.a)(Object(r.a)({},null!==(t=null===(n=Object(O.unref)(s))||void 0===n?void 0:n.userInfo)&&void 0!==t?t:{}),Object(O.unref)(s)),(function(t,n){return Object(O.openBlock)(),Object(O.createBlock)(u,{"key":n,"title":n,"sub-title":e.$filters.stringify(t)},null,8,["title","sub-title"])})),128))]})),"_":1})]})),"_":1})}}});t.default=m}}]);