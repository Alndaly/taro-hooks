"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[3007],{"3007":function(e,t,n){n.r(t),n.d(t,{"default":function(){return p}});var a=n(2053);var r=n(5043),o=n(5552),u=n(4012);var d=n(2725),l={"props":{"id":Number,"text":String,"done":Boolean},"emits":["taskChange","taskDelete"],"setup":function setup(e,t){var n=t.emit,a=(0,u.eJ)(!1),o=(0,r.Z)(a,2),l=o[0],c=o[1],i=(0,u.eJ)(e.done),s=(0,r.Z)(i,2),f=s[0],h=s[1],p=function handleChange(t,a){var r=e.id,o=e.text,u=e.done;n("taskChange",(0,d.Z)({"id":r,"text":o,"done":u},t,a))};return{"edit":l,"status":f,"setEdit":c,"handleChange":p,"handleDelete":function handleDelete(){n("taskDelete",e.id)},"handleCheckboxChange":function handleCheckboxChange(e){p("done",e),h(e)}}}},c=n(9852);function formReducer(e,t){switch(t.type){case"incremented_age":return{"name":e.name,"age":e.age+1};case"changed_name":return{"name":t.nextName,"age":e.age}}throw Error("Unknown action: "+t.type)}var i={"name":"Taylor","age":42};function tasksReducer(e,t){switch(t.type){case"added":return[].concat((0,o.Z)(e),[{"id":t.id,"text":t.text,"done":!1}]);case"changed":return e.map((function(e){return e.id===t.task.id?t.task:e}));case"deleted":return e.filter((function(e){return e.id!==t.id}));default:throw Error("Unknown action: "+t.type)}}var s=[{"id":0,"text":"Visit Kafka Museum","done":!0},{"id":1,"text":"Watch a puppet show","done":!1},{"id":2,"text":"Lennon Wall pic","done":!1}],f=3,h={"components":{"ListItem":(0,c.Z)(l,[["render",function Itemvue_type_template_id_13e626df_ts_true_render(e,t,n,r,o,u){var d=(0,a.resolveComponent)("nut-checkbox"),l=(0,a.resolveComponent)("nut-col"),c=(0,a.resolveComponent)("taro-text"),i=(0,a.resolveComponent)("control-input"),s=(0,a.resolveComponent)("nut-button"),f=(0,a.resolveComponent)("nut-row");return(0,a.openBlock)(),(0,a.createBlock)(f,{"type":"flex","gutter":8,"justify":"between","align":"center","class":"reducer-item"},{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(l,{"span":2},{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(d,{"modelValue":r.status,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.status=e}),"onChange":r.handleCheckboxChange},null,8,["modelValue","onChange"])]})),"_":1}),(0,a.createVNode)(l,{"span":13},{"default":(0,a.withCtx)((function(){return[r.edit?((0,a.openBlock)(),(0,a.createBlock)(i,{"key":1,"value":n.text,"onInput":t[1]||(t[1]=function(e){return r.handleChange("text",e)}),"onBlur":t[2]||(t[2]=function(e){return r.setEdit(!1)})},null,8,["value"])):((0,a.openBlock)(),(0,a.createBlock)(c,{"key":0},{"default":(0,a.withCtx)((function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(n.text),1)]})),"_":1}))]})),"_":1}),(0,a.createVNode)(l,{"span":4},{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(s,{"block":"","shape":"square","onClick":t[3]||(t[3]=function(e){return r.setEdit(!0)}),"size":"mini"},{"default":(0,a.withCtx)((function(){return[(0,a.createTextVNode)("Edit")]})),"_":1})]})),"_":1}),(0,a.createVNode)(l,{"span":5},{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(s,{"block":"","shape":"square","onClick":t[4]||(t[4]=function(e){return r.handleDelete()}),"size":"mini","type":"danger"},{"default":(0,a.withCtx)((function(){return[(0,a.createTextVNode)("Delete")]})),"_":1})]})),"_":1})]})),"_":1})}]])},"setup":function setup(){var e=(0,u._Y)(formReducer,i),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=(0,u._Y)(tasksReducer,s),d=(0,r.Z)(o,2),l=d[0],c=d[1];var h=(0,u.eJ)(null),p=(0,r.Z)(h,2),m=p[0],k=p[1];return{"formState":n,"handleIncrementAge":function handleIncrementAge(){a({"type":"incremented_age"})},"handleNameChange":function handleNameChange(e){a({"type":"changed_name","nextName":e})},"tasks":l,"handleAddTask":function handleAddTask(e){c({"type":"added","id":f++,"text":e}),k(null)},"handleChangeTask":function handleChangeTask(e){c({"type":"changed","task":e})},"handleDeleteTask":function handleDeleteTask(e){c({"type":"deleted","id":e})},"currentAddTask":m,"setCurrentAddTask":k}}};var p=(0,c.Z)(h,[["render",function render(e,t,n,r,o,u){var d=(0,a.resolveComponent)("control-input"),l=(0,a.resolveComponent)("taro-view"),c=(0,a.resolveComponent)("nut-button"),i=(0,a.resolveComponent)("demo-content"),s=(0,a.resolveComponent)("nut-col"),f=(0,a.resolveComponent)("nut-row"),h=(0,a.resolveComponent)("ListItem"),p=(0,a.resolveComponent)("taro-block");return(0,a.openBlock)(),(0,a.createBlock)(p,null,{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(i,{"title":"1. Form (Object)"},{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(d,{"onInput":t[0]||(t[0]=function(e){return r.handleNameChange(e)}),"value":r.formState.name},null,8,["value"]),(0,a.createVNode)(l,{"class":"control-input"},{"default":(0,a.withCtx)((function(){return[(0,a.createTextVNode)("Hello, "+(0,a.toDisplayString)(r.formState.name)+". You are "+(0,a.toDisplayString)(r.formState.age)+".",1)]})),"_":1}),(0,a.createVNode)(c,{"shape":"square","type":"primary","block":"","onClick":t[1]||(t[1]=function(e){return r.handleIncrementAge()})},{"default":(0,a.withCtx)((function(){return[(0,a.createTextVNode)("Increment Age")]})),"_":1})]})),"_":1}),(0,a.createVNode)(i,{"title":"2. Todo list (Array)"},{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(f,{"type":"flex","gutter":4},{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(s,{"span":18},{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(d,{"placeholder":"Add task","value":r.currentAddTask,"onInput":t[2]||(t[2]=function(e){return r.setCurrentAddTask(e)})},null,8,["value"])]})),"_":1}),(0,a.createVNode)(s,{"span":6},{"default":(0,a.withCtx)((function(){return[(0,a.createVNode)(c,{"shape":"square","type":"info","block":"","onClick":t[3]||(t[3]=function(e){return r.handleAddTask(r.currentAddTask)})},{"default":(0,a.withCtx)((function(){return[(0,a.createTextVNode)("Add")]})),"_":1})]})),"_":1})]})),"_":1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.tasks,(function(e){return(0,a.openBlock)(),(0,a.createBlock)(h,{"key":e.id,"done":e.done,"text":e.text,"id":e.id,"onTaskChange":t[4]||(t[4]=function(e){return r.handleChangeTask(e)}),"onTaskDelete":t[5]||(t[5]=function(e){return r.handleDeleteTask(e)})},null,8,["done","text","id"])})),128))]})),"_":1}),(0,a.createVNode)(i,{"title":"3. Writing concise update logic with Immer. write self"})]})),"_":1})}]])}}]);