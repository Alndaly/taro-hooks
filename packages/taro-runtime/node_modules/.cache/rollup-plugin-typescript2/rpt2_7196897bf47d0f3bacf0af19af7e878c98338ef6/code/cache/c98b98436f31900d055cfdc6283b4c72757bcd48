{"code":"import { TaroElement } from './element';\r\nimport { VALUE, INPUT, CHANGE } from '../constants';\r\nexport class FormElement extends TaroElement {\r\n    get value() {\r\n        // eslint-disable-next-line dot-notation\r\n        const val = this.props[VALUE];\r\n        return val == null ? '' : val;\r\n    }\r\n    set value(val) {\r\n        this.setAttribute(VALUE, val);\r\n    }\r\n    dispatchEvent(event) {\r\n        if (event.mpEvent) {\r\n            const val = event.mpEvent.detail.value;\r\n            if (event.type === CHANGE) {\r\n                this.props.value = val;\r\n            }\r\n            else if (event.type === INPUT) {\r\n                // Web 规范中表单组件的 value 应该跟着输入改变\r\n                // 只是改 this.props.value 的话不会进行 setData，因此这里修改 this.value。\r\n                // 只测试了 React、Vue、Vue3 input 组件的 onInput 事件，onChange 事件不确定有没有副作用，所以暂不修改。\r\n                this.value = val;\r\n            }\r\n        }\r\n        return super.dispatchEvent(event);\r\n    }\r\n}\r\n//# sourceMappingURL=form.js.map","references":["/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom/element.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/constants/index.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom/event.ts"],"map":"{\"version\":3,\"file\":\"form.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/dom/form.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,WAAW,CAAA;AACvC,OAAO,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACP,MAAM,cAAc,CAAA;AAIrB,MAAM,OAAO,WAAY,SAAQ,WAAW;IAC1C,IAAW,KAAK;QACd,wCAAwC;QACxC,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;QAC7B,OAAO,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAA;IAC/B,CAAC;IAED,IAAW,KAAK,CAAE,GAAsC;QACtD,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,GAAG,CAAC,CAAA;IAC/B,CAAC;IAEM,aAAa,CAAE,KAAgB;QACpC,IAAI,KAAK,CAAC,OAAO,EAAE;YACjB,MAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAA;YACtC,IAAI,KAAK,CAAC,IAAI,KAAK,MAAM,EAAE;gBACzB,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAa,CAAA;aACjC;iBAAM,IAAI,KAAK,CAAC,IAAI,KAAK,KAAK,EAAE;gBAC/B,8BAA8B;gBAC9B,yDAAyD;gBACzD,wEAAwE;gBACxE,IAAI,CAAC,KAAK,GAAG,GAAa,CAAA;aAC3B;SACF;QAED,OAAO,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;IACnC,CAAC;CACF\"}","dts":{"name":"/Users/inoccent/github/taro-hooks/packages/taro-runtime/node_modules/.cache/rollup-plugin-typescript2/placeholder/dom/form.d.ts","writeByteOrderMark":false,"text":"import { TaroElement } from './element';\r\nimport type { TaroEvent } from './event';\r\nexport declare class FormElement extends TaroElement {\r\n    get value(): string | boolean | number | any[];\r\n    set value(val: string | boolean | number | any[]);\r\n    dispatchEvent(event: TaroEvent): boolean;\r\n}\r\n"}}
