{"code":"import { unquote } from './utils';\r\nconst LEFT_BRACKET = '{';\r\nconst RIGHT_BRACKET = '}';\r\nconst CLASS_SELECTOR = '.';\r\nconst ID_SELECTOR = '#';\r\nconst CHILD_COMBINATOR = '>';\r\nconst GENERAL_SIBLING_COMBINATOR = '~';\r\nconst ADJACENT_SIBLING_COMBINATOR = '+';\r\nexport default class StyleTagParser {\r\n    constructor() {\r\n        this.styles = [];\r\n    }\r\n    extractStyle(src) {\r\n        const REG_STYLE = /<style\\s?[^>]*>((.|\\n|\\s)+?)<\\/style>/g;\r\n        let html = src;\r\n        // let html = src.replace(/\\n/g, '')\r\n        html = html.replace(REG_STYLE, (_, $1) => {\r\n            const style = $1.trim();\r\n            this.stringToSelector(style);\r\n            return '';\r\n        });\r\n        return html.trim();\r\n    }\r\n    stringToSelector(style) {\r\n        let lb = style.indexOf(LEFT_BRACKET);\r\n        while (lb > -1) {\r\n            const rb = style.indexOf(RIGHT_BRACKET);\r\n            const selectors = style.slice(0, lb).trim();\r\n            let content = style.slice(lb + 1, rb).replace(/ /g, '');\r\n            if (!(/;$/.test(content))) {\r\n                content += ';';\r\n            }\r\n            selectors.split(',').forEach(src => {\r\n                const selectorList = this.parseSelector(src);\r\n                this.styles.push({\r\n                    content,\r\n                    selectorList\r\n                });\r\n            });\r\n            style = style.slice(rb + 1);\r\n            lb = style.indexOf(LEFT_BRACKET);\r\n        }\r\n        // console.log('res this.styles: ', this.styles)\r\n    }\r\n    parseSelector(src) {\r\n        // todo: 属性选择器里可以带空格：[a = \"b\"]，这里的 split(' ') 需要作兼容\r\n        const list = src.trim().replace(/ *([>~+]) */g, ' $1').replace(/ +/g, ' ').split(' ');\r\n        const selectors = list.map(item => {\r\n            const firstChar = item.charAt(0);\r\n            const selector = {\r\n                isChild: firstChar === CHILD_COMBINATOR,\r\n                isGeneralSibling: firstChar === GENERAL_SIBLING_COMBINATOR,\r\n                isAdjacentSibling: firstChar === ADJACENT_SIBLING_COMBINATOR,\r\n                tag: null,\r\n                id: null,\r\n                class: [],\r\n                attrs: []\r\n            };\r\n            item = item.replace(/^[>~+]/, '');\r\n            // 属性选择器\r\n            item = item.replace(/\\[(.+?)\\]/g, function (_, $1) {\r\n                const [key, value] = $1.split('=');\r\n                const all = $1.indexOf('=') === -1;\r\n                const attr = {\r\n                    all,\r\n                    key,\r\n                    value: all ? null : value\r\n                };\r\n                selector.attrs.push(attr);\r\n                return '';\r\n            });\r\n            item = item.replace(/([.#][A-Za-z0-9-_]+)/g, function (_, $1) {\r\n                if ($1[0] === ID_SELECTOR) {\r\n                    // id 选择器\r\n                    selector.id = $1.substr(1);\r\n                }\r\n                else if ($1[0] === CLASS_SELECTOR) {\r\n                    // class 选择器\r\n                    selector.class.push($1.substr(1));\r\n                }\r\n                return '';\r\n            });\r\n            // 标签选择器\r\n            if (item !== '') {\r\n                selector.tag = item;\r\n            }\r\n            return selector;\r\n        });\r\n        return selectors;\r\n    }\r\n    matchStyle(tagName, el, list) {\r\n        const res = sortStyles(this.styles).reduce((str, { content, selectorList }, i) => {\r\n            let idx = list[i];\r\n            let selector = selectorList[idx];\r\n            const nextSelector = selectorList[idx + 1];\r\n            if ((nextSelector === null || nextSelector === void 0 ? void 0 : nextSelector.isGeneralSibling) || (nextSelector === null || nextSelector === void 0 ? void 0 : nextSelector.isAdjacentSibling)) {\r\n                selector = nextSelector;\r\n                idx += 1;\r\n                list[i] += 1;\r\n            }\r\n            let isMatch = this.matchCurrent(tagName, el, selector);\r\n            if (isMatch && selector.isGeneralSibling) {\r\n                let prev = getPreviousElement(el);\r\n                while (prev) {\r\n                    if (prev.h5tagName && this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1])) {\r\n                        isMatch = true;\r\n                        break;\r\n                    }\r\n                    prev = getPreviousElement(prev);\r\n                    isMatch = false;\r\n                }\r\n            }\r\n            if (isMatch && selector.isAdjacentSibling) {\r\n                const prev = getPreviousElement(el);\r\n                if (!prev || !prev.h5tagName) {\r\n                    isMatch = false;\r\n                }\r\n                else {\r\n                    const isSiblingMatch = this.matchCurrent(prev.h5tagName, prev, selectorList[idx - 1]);\r\n                    if (!isSiblingMatch) {\r\n                        isMatch = false;\r\n                    }\r\n                }\r\n            }\r\n            if (isMatch) {\r\n                if (idx === selectorList.length - 1) {\r\n                    return str + content;\r\n                }\r\n                else if (idx < selectorList.length - 1) {\r\n                    list[i] += 1;\r\n                }\r\n            }\r\n            else {\r\n                // 直接子代组合器: >\r\n                if (selector.isChild && idx > 0) {\r\n                    list[i] -= 1;\r\n                    if (this.matchCurrent(tagName, el, selectorList[list[i]])) {\r\n                        list[i] += 1;\r\n                    }\r\n                }\r\n            }\r\n            return str;\r\n        }, '');\r\n        return res;\r\n    }\r\n    matchCurrent(tagName, el, selector) {\r\n        // 标签选择器\r\n        if (selector.tag && selector.tag !== tagName)\r\n            return false;\r\n        // id 选择器\r\n        if (selector.id && selector.id !== el.id)\r\n            return false;\r\n        // class 选择器\r\n        if (selector.class.length) {\r\n            const classList = el.className.split(' ');\r\n            for (let i = 0; i < selector.class.length; i++) {\r\n                const cls = selector.class[i];\r\n                if (classList.indexOf(cls) === -1) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        // 属性选择器\r\n        if (selector.attrs.length) {\r\n            for (let i = 0; i < selector.attrs.length; i++) {\r\n                const { all, key, value } = selector.attrs[i];\r\n                if (all && !el.hasAttribute(key)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    const attr = el.getAttribute(key);\r\n                    if (attr !== unquote(value || '')) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\nfunction getPreviousElement(el) {\r\n    const parent = el.parentElement;\r\n    if (!parent)\r\n        return null;\r\n    const prev = el.previousSibling;\r\n    if (!prev)\r\n        return null;\r\n    if (prev.nodeType === 1 /* ELEMENT_NODE */) {\r\n        return prev;\r\n    }\r\n    else {\r\n        return getPreviousElement(prev);\r\n    }\r\n}\r\n// 根据 css selector 权重排序: 权重大的靠后\r\n// @WARN 不考虑伪类\r\n// https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance#specificity_2\r\nfunction sortStyles(styles) {\r\n    return styles.sort((s1, s2) => {\r\n        const hundreds1 = getHundredsWeight(s1.selectorList);\r\n        const hundreds2 = getHundredsWeight(s2.selectorList);\r\n        if (hundreds1 !== hundreds2)\r\n            return hundreds1 - hundreds2;\r\n        const tens1 = getTensWeight(s1.selectorList);\r\n        const tens2 = getTensWeight(s2.selectorList);\r\n        if (tens1 !== tens2)\r\n            return tens1 - tens2;\r\n        const ones1 = getOnesWeight(s1.selectorList);\r\n        const ones2 = getOnesWeight(s2.selectorList);\r\n        return ones1 - ones2;\r\n    });\r\n}\r\nfunction getHundredsWeight(selectors) {\r\n    return selectors.reduce((pre, cur) => pre + (cur.id ? 1 : 0), 0);\r\n}\r\nfunction getTensWeight(selectors) {\r\n    return selectors.reduce((pre, cur) => pre + cur.class.length + cur.attrs.length, 0);\r\n}\r\nfunction getOnesWeight(selectors) {\r\n    return selectors.reduce((pre, cur) => pre + (cur.tag ? 1 : 0), 0);\r\n}\r\n//# sourceMappingURL=style.js.map","references":["/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom/node_types.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom-external/inner-html/utils.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom/node.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom-external/inner-html/parser.ts"],"map":"{\"version\":3,\"file\":\"style.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/dom-external/inner-html/style.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,SAAS,CAAA;AAKjC,MAAM,YAAY,GAAG,GAAG,CAAA;AACxB,MAAM,aAAa,GAAG,GAAG,CAAA;AACzB,MAAM,cAAc,GAAG,GAAG,CAAA;AAC1B,MAAM,WAAW,GAAG,GAAG,CAAA;AACvB,MAAM,gBAAgB,GAAG,GAAG,CAAA;AAC5B,MAAM,0BAA0B,GAAG,GAAG,CAAA;AACtC,MAAM,2BAA2B,GAAG,GAAG,CAAA;AAqBvC,MAAM,CAAC,OAAO,OAAO,cAAc;IAAnC;QACE,WAAM,GAAY,EAAE,CAAA;IAwLtB,CAAC;IAtLC,YAAY,CAAE,GAAW;QACvB,MAAM,SAAS,GAAG,wCAAwC,CAAA;QAC1D,IAAI,IAAI,GAAG,GAAG,CAAA;QACd,oCAAoC;QAEpC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,EAAU,EAAE,EAAE;YAC/C,MAAM,KAAK,GAAG,EAAE,CAAC,IAAI,EAAE,CAAA;YACvB,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAA;YAC5B,OAAO,EAAE,CAAA;QACX,CAAC,CAAC,CAAA;QAEF,OAAO,IAAI,CAAC,IAAI,EAAE,CAAA;IACpB,CAAC;IAED,gBAAgB,CAAE,KAAa;QAC7B,IAAI,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAA;QAEpC,OAAO,EAAE,GAAG,CAAC,CAAC,EAAE;YACd,MAAM,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAA;YACvC,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAA;YAC3C,IAAI,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAA;YACvD,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE;gBACzB,OAAO,IAAI,GAAG,CAAA;aACf;YACD,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACjC,MAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAA;gBAC5C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;oBACf,OAAO;oBACP,YAAY;iBACb,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;YACF,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAA;YAC3B,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAA;SACjC;QACD,gDAAgD;IAClD,CAAC;IAED,aAAa,CAAE,GAAW;QACxB,mDAAmD;QACnD,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;QACrF,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YAChC,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA;YAChC,MAAM,QAAQ,GAAc;gBAC1B,OAAO,EAAE,SAAS,KAAK,gBAAgB;gBACvC,gBAAgB,EAAE,SAAS,KAAK,0BAA0B;gBAC1D,iBAAiB,EAAE,SAAS,KAAK,2BAA2B;gBAC5D,GAAG,EAAE,IAAI;gBACT,EAAE,EAAE,IAAI;gBACR,KAAK,EAAE,EAAE;gBACT,KAAK,EAAE,EAAE;aACV,CAAA;YAED,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAA;YAEjC,QAAQ;YACR,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,EAAU;gBACvD,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;gBAClC,MAAM,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAA;gBAElC,MAAM,IAAI,GAAG;oBACX,GAAG;oBACH,GAAG;oBACH,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;iBAC1B,CAAA;gBACD,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;gBACzB,OAAO,EAAE,CAAA;YACX,CAAC,CAAC,CAAA;YAEF,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,uBAAuB,EAAE,UAAU,CAAC,EAAE,EAAU;gBAClE,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,WAAW,EAAE;oBACzB,SAAS;oBACT,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA;iBAC3B;qBAAM,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,cAAc,EAAE;oBACnC,YAAY;oBACZ,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;iBAClC;gBACD,OAAO,EAAE,CAAA;YACX,CAAC,CAAC,CAAA;YAEF,QAAQ;YACR,IAAI,IAAI,KAAK,EAAE,EAAE;gBACf,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAA;aACpB;YAED,OAAO,QAAQ,CAAA;QACjB,CAAC,CAAC,CAAA;QACF,OAAO,SAAS,CAAA;IAClB,CAAC;IAED,UAAU,CAAE,OAAe,EAAE,EAAqB,EAAE,IAAc;QAChE,MAAM,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE;YAC/E,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;YACjB,IAAI,QAAQ,GAAG,YAAY,CAAC,GAAG,CAAC,CAAA;YAChC,MAAM,YAAY,GAAG,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,CAAA;YAE1C,IAAI,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,gBAAgB,MAAI,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,iBAAiB,CAAA,EAAE;gBACrE,QAAQ,GAAG,YAAY,CAAA;gBACvB,GAAG,IAAI,CAAC,CAAA;gBACR,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAA;aACb;YAED,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAA;YAEtD,IAAI,OAAO,IAAI,QAAQ,CAAC,gBAAgB,EAAE;gBACxC,IAAI,IAAI,GAAsB,kBAAkB,CAAC,EAAE,CAAC,CAAA;gBACpD,OAAO,IAAI,EAAE;oBACX,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE;wBACpF,OAAO,GAAG,IAAI,CAAA;wBACd,MAAK;qBACN;oBACD,IAAI,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAA;oBAC/B,OAAO,GAAG,KAAK,CAAA;iBAChB;aACF;YACD,IAAI,OAAO,IAAI,QAAQ,CAAC,iBAAiB,EAAE;gBACzC,MAAM,IAAI,GAAsB,kBAAkB,CAAC,EAAE,CAAC,CAAA;gBACtD,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;oBAC5B,OAAO,GAAG,KAAK,CAAA;iBAChB;qBAAM;oBACL,MAAM,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAA;oBACrF,IAAI,CAAC,cAAc,EAAE;wBACnB,OAAO,GAAG,KAAK,CAAA;qBAChB;iBACF;aACF;YAED,IAAI,OAAO,EAAE;gBACX,IAAI,GAAG,KAAK,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;oBACnC,OAAO,GAAG,GAAG,OAAO,CAAA;iBACrB;qBAAM,IAAI,GAAG,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;oBACxC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAA;iBACb;aACF;iBAAM;gBACL,aAAa;gBACb,IAAI,QAAQ,CAAC,OAAO,IAAI,GAAG,GAAG,CAAC,EAAE;oBAC/B,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAA;oBACZ,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;wBACzD,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAA;qBACb;iBACF;aACF;YAED,OAAO,GAAG,CAAA;QACZ,CAAC,EAAE,EAAE,CAAC,CAAA;QACN,OAAO,GAAG,CAAA;IACZ,CAAC;IAED,YAAY,CAAE,OAAe,EAAE,EAAqB,EAAE,QAAmB;QACvE,QAAQ;QACR,IAAI,QAAQ,CAAC,GAAG,IAAI,QAAQ,CAAC,GAAG,KAAK,OAAO;YAAE,OAAO,KAAK,CAAA;QAE1D,SAAS;QACT,IAAI,QAAQ,CAAC,EAAE,IAAI,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE;YAAE,OAAO,KAAK,CAAA;QAEtD,YAAY;QACZ,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE;YACzB,MAAM,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;YACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC9C,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAC7B,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;oBACjC,OAAO,KAAK,CAAA;iBACb;aACF;SACF;QAED,QAAQ;QACR,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE;YACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC9C,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBAC7C,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE;oBAChC,OAAO,KAAK,CAAA;iBACb;qBAAM;oBACL,MAAM,IAAI,GAAG,EAAE,CAAC,YAAY,CAAC,GAAG,CAAC,CAAA;oBACjC,IAAI,IAAI,KAAK,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC,EAAE;wBACjC,OAAO,KAAK,CAAA;qBACb;iBACF;aACF;SACF;QAED,OAAO,IAAI,CAAA;IACb,CAAC;CACF;AAED,SAAS,kBAAkB,CAAE,EAAY;IACvC,MAAM,MAAM,GAAG,EAAE,CAAC,aAAa,CAAA;IAC/B,IAAI,CAAC,MAAM;QAAE,OAAO,IAAI,CAAA;IAExB,MAAM,IAAI,GAAG,EAAE,CAAC,eAAe,CAAA;IAC/B,IAAI,CAAC,IAAI;QAAE,OAAO,IAAI,CAAA;IAEtB,IAAI,IAAI,CAAC,QAAQ,yBAA0B,EAAE;QAC3C,OAAO,IAAI,CAAA;KACZ;SAAM;QACL,OAAO,kBAAkB,CAAC,IAAI,CAAC,CAAA;KAChC;AACH,CAAC;AAED,+BAA+B;AAC/B,cAAc;AACd,2GAA2G;AAC3G,SAAS,UAAU,CAAE,MAAgB;IACnC,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;QAC5B,MAAM,SAAS,GAAG,iBAAiB,CAAC,EAAE,CAAC,YAAY,CAAC,CAAA;QACpD,MAAM,SAAS,GAAG,iBAAiB,CAAC,EAAE,CAAC,YAAY,CAAC,CAAA;QAEpD,IAAI,SAAS,KAAK,SAAS;YAAE,OAAO,SAAS,GAAG,SAAS,CAAA;QAEzD,MAAM,KAAK,GAAG,aAAa,CAAC,EAAE,CAAC,YAAY,CAAC,CAAA;QAC5C,MAAM,KAAK,GAAG,aAAa,CAAC,EAAE,CAAC,YAAY,CAAC,CAAA;QAE5C,IAAI,KAAK,KAAK,KAAK;YAAE,OAAO,KAAK,GAAG,KAAK,CAAA;QAEzC,MAAM,KAAK,GAAG,aAAa,CAAC,EAAE,CAAC,YAAY,CAAC,CAAA;QAC5C,MAAM,KAAK,GAAG,aAAa,CAAC,EAAE,CAAC,YAAY,CAAC,CAAA;QAE5C,OAAO,KAAK,GAAG,KAAK,CAAA;IACtB,CAAC,CAAC,CAAA;AACJ,CAAC;AAED,SAAS,iBAAiB,CAAE,SAAsB;IAChD,OAAO,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;AAClE,CAAC;AAED,SAAS,aAAa,CAAE,SAAsB;IAC5C,OAAO,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAA;AACrF,CAAC;AAED,SAAS,aAAa,CAAE,SAAsB;IAC5C,OAAO,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;AACnE,CAAC\"}","dts":{"name":"/Users/inoccent/github/taro-hooks/packages/taro-runtime/node_modules/.cache/rollup-plugin-typescript2/placeholder/dom-external/inner-html/style.d.ts","writeByteOrderMark":false,"text":"import type { ParsedTaroElement } from './parser';\r\ninterface ISelector {\r\n    isChild: boolean;\r\n    isGeneralSibling: boolean;\r\n    isAdjacentSibling: boolean;\r\n    tag: string | null;\r\n    id: string | null;\r\n    class: string[];\r\n    attrs: {\r\n        all: boolean;\r\n        key: string;\r\n        value?: string | null;\r\n    }[];\r\n}\r\ninterface IStyle {\r\n    content: string;\r\n    selectorList: ISelector[];\r\n}\r\nexport default class StyleTagParser {\r\n    styles: IStyle[];\r\n    extractStyle(src: string): string;\r\n    stringToSelector(style: string): void;\r\n    parseSelector(src: string): ISelector[];\r\n    matchStyle(tagName: string, el: ParsedTaroElement, list: number[]): string;\r\n    matchCurrent(tagName: string, el: ParsedTaroElement, selector: ISelector): boolean;\r\n}\r\nexport {};\r\n"}}
