{"code":"/* eslint-disable dot-notation */\r\nimport { isFunction, EMPTY_OBJ, ensure, isUndefined, isArray } from '@tarojs/shared';\r\nimport container from '../container';\r\nimport SERVICE_IDENTIFIER from '../constants/identifiers';\r\nimport { eventHandler } from '../dom/event';\r\nimport { Current } from '../current';\r\nimport { document } from '../bom/document';\r\nimport { incrementId } from '../utils';\r\nimport { perf } from '../perf';\r\nimport { PAGE_INIT } from '../constants';\r\nimport { isBrowser } from '../env';\r\nimport { eventCenter } from '../emitter/emitter';\r\nimport { raf } from '../bom/raf';\r\nconst instances = new Map();\r\nconst pageId = incrementId();\r\nconst hooks = container.get(SERVICE_IDENTIFIER.Hooks);\r\nexport function injectPageInstance(inst, id) {\r\n    var _a;\r\n    (_a = hooks.mergePageInstance) === null || _a === void 0 ? void 0 : _a.call(hooks, instances.get(id), inst);\r\n    instances.set(id, inst);\r\n}\r\nexport function getPageInstance(id) {\r\n    return instances.get(id);\r\n}\r\nexport function addLeadingSlash(path) {\r\n    if (path == null) {\r\n        return '';\r\n    }\r\n    return path.charAt(0) === '/' ? path : '/' + path;\r\n}\r\nexport function safeExecute(path, lifecycle, ...args) {\r\n    const instance = instances.get(path);\r\n    if (instance == null) {\r\n        return;\r\n    }\r\n    const func = hooks.getLifecycle(instance, lifecycle);\r\n    if (isArray(func)) {\r\n        const res = func.map(fn => fn.apply(instance, args));\r\n        return res[0];\r\n    }\r\n    if (!isFunction(func)) {\r\n        return;\r\n    }\r\n    return func.apply(instance, args);\r\n}\r\nexport function stringify(obj) {\r\n    if (obj == null) {\r\n        return '';\r\n    }\r\n    const path = Object.keys(obj).map((key) => {\r\n        return key + '=' + obj[key];\r\n    }).join('&');\r\n    return path === '' ? path : '?' + path;\r\n}\r\nexport function getPath(id, options) {\r\n    let path = id;\r\n    if (!isBrowser) {\r\n        path = id + stringify(options);\r\n    }\r\n    return path;\r\n}\r\nexport function getOnReadyEventKey(path) {\r\n    return path + '.' + 'onReady';\r\n}\r\nexport function getOnShowEventKey(path) {\r\n    return path + '.' + 'onShow';\r\n}\r\nexport function getOnHideEventKey(path) {\r\n    return path + '.' + 'onHide';\r\n}\r\nexport function createPageConfig(component, pageName, data, pageConfig) {\r\n    var _a, _b;\r\n    const id = pageName !== null && pageName !== void 0 ? pageName : `taro_page_${pageId()}`;\r\n    // 小程序 Page 构造器是一个傲娇小公主，不能把复杂的对象挂载到参数上\r\n    let pageElement = null;\r\n    let unmounting = false;\r\n    let prepareMountList = [];\r\n    const config = {\r\n        onLoad(options, cb) {\r\n            perf.start(PAGE_INIT);\r\n            Current.page = this;\r\n            this.config = pageConfig || {};\r\n            options.$taroTimestamp = Date.now();\r\n            // this.$taroPath 是页面唯一标识，不可变，因此页面参数 options 也不可变\r\n            this.$taroPath = getPath(id, options);\r\n            // this.$taroParams 作为暴露给开发者的页面参数对象，可以被随意修改\r\n            if (this.$taroParams == null) {\r\n                this.$taroParams = Object.assign({}, options);\r\n            }\r\n            const router = isBrowser ? this.$taroPath : this.route || this.__route__;\r\n            Current.router = {\r\n                params: this.$taroParams,\r\n                path: addLeadingSlash(router),\r\n                onReady: getOnReadyEventKey(id),\r\n                onShow: getOnShowEventKey(id),\r\n                onHide: getOnHideEventKey(id)\r\n            };\r\n            const mount = () => {\r\n                Current.app.mount(component, this.$taroPath, () => {\r\n                    pageElement = document.getElementById(this.$taroPath);\r\n                    ensure(pageElement !== null, '没有找到页面实例。');\r\n                    safeExecute(this.$taroPath, 'onLoad', this.$taroParams);\r\n                    if (!isBrowser) {\r\n                        pageElement.ctx = this;\r\n                        pageElement.performUpdate(true, cb);\r\n                    }\r\n                });\r\n            };\r\n            if (unmounting) {\r\n                prepareMountList.push(mount);\r\n            }\r\n            else {\r\n                mount();\r\n            }\r\n        },\r\n        onReady() {\r\n            raf(() => {\r\n                eventCenter.trigger(getOnReadyEventKey(id));\r\n            });\r\n            safeExecute(this.$taroPath, 'onReady');\r\n            this.onReady.called = true;\r\n        },\r\n        onUnload() {\r\n            unmounting = true;\r\n            Current.app.unmount(this.$taroPath, () => {\r\n                unmounting = false;\r\n                instances.delete(this.$taroPath);\r\n                if (pageElement) {\r\n                    pageElement.ctx = null;\r\n                }\r\n                if (prepareMountList.length) {\r\n                    prepareMountList.forEach(fn => fn());\r\n                    prepareMountList = [];\r\n                }\r\n            });\r\n        },\r\n        onShow() {\r\n            Current.page = this;\r\n            this.config = pageConfig || {};\r\n            const router = isBrowser ? this.$taroPath : this.route || this.__route__;\r\n            Current.router = {\r\n                params: this.$taroParams,\r\n                path: addLeadingSlash(router),\r\n                onReady: getOnReadyEventKey(id),\r\n                onShow: getOnShowEventKey(id),\r\n                onHide: getOnHideEventKey(id)\r\n            };\r\n            raf(() => {\r\n                eventCenter.trigger(getOnShowEventKey(id));\r\n            });\r\n            safeExecute(this.$taroPath, 'onShow');\r\n        },\r\n        onHide() {\r\n            Current.page = null;\r\n            Current.router = null;\r\n            safeExecute(this.$taroPath, 'onHide');\r\n            eventCenter.trigger(getOnHideEventKey(id));\r\n        },\r\n        onPullDownRefresh() {\r\n            return safeExecute(this.$taroPath, 'onPullDownRefresh');\r\n        },\r\n        onReachBottom() {\r\n            return safeExecute(this.$taroPath, 'onReachBottom');\r\n        },\r\n        onPageScroll(options) {\r\n            return safeExecute(this.$taroPath, 'onPageScroll', options);\r\n        },\r\n        onResize(options) {\r\n            return safeExecute(this.$taroPath, 'onResize', options);\r\n        },\r\n        onTabItemTap(options) {\r\n            return safeExecute(this.$taroPath, 'onTabItemTap', options);\r\n        },\r\n        onTitleClick() {\r\n            return safeExecute(this.$taroPath, 'onTitleClick');\r\n        },\r\n        onOptionMenuClick() {\r\n            return safeExecute(this.$taroPath, 'onOptionMenuClick');\r\n        },\r\n        onPopMenuClick() {\r\n            return safeExecute(this.$taroPath, 'onPopMenuClick');\r\n        },\r\n        onPullIntercept() {\r\n            return safeExecute(this.$taroPath, 'onPullIntercept');\r\n        },\r\n        onAddToFavorites() {\r\n            return safeExecute(this.$taroPath, 'onAddToFavorites');\r\n        }\r\n    };\r\n    // onShareAppMessage 和 onShareTimeline 一样，会影响小程序右上方按钮的选项，因此不能默认注册。\r\n    if (component.onShareAppMessage ||\r\n        ((_a = component.prototype) === null || _a === void 0 ? void 0 : _a.onShareAppMessage) ||\r\n        component.enableShareAppMessage) {\r\n        config.onShareAppMessage = function (options) {\r\n            const target = options === null || options === void 0 ? void 0 : options.target;\r\n            if (target != null) {\r\n                const id = target.id;\r\n                const element = document.getElementById(id);\r\n                if (element != null) {\r\n                    options.target.dataset = element.dataset;\r\n                }\r\n            }\r\n            return safeExecute(this.$taroPath, 'onShareAppMessage', options);\r\n        };\r\n    }\r\n    if (component.onShareTimeline ||\r\n        ((_b = component.prototype) === null || _b === void 0 ? void 0 : _b.onShareTimeline) ||\r\n        component.enableShareTimeline) {\r\n        config.onShareTimeline = function () {\r\n            return safeExecute(this.$taroPath, 'onShareTimeline');\r\n        };\r\n    }\r\n    config.eh = eventHandler;\r\n    if (!isUndefined(data)) {\r\n        config.data = data;\r\n    }\r\n    if (isBrowser) {\r\n        config.path = id;\r\n    }\r\n    return config;\r\n}\r\nexport function createComponentConfig(component, componentName, data) {\r\n    var _a, _b, _c;\r\n    const id = componentName !== null && componentName !== void 0 ? componentName : `taro_component_${pageId()}`;\r\n    let componentElement = null;\r\n    const config = {\r\n        attached() {\r\n            var _a;\r\n            perf.start(PAGE_INIT);\r\n            const path = getPath(id, { id: ((_a = this.getPageId) === null || _a === void 0 ? void 0 : _a.call(this)) || pageId() });\r\n            Current.app.mount(component, path, () => {\r\n                componentElement = document.getElementById(path);\r\n                ensure(componentElement !== null, '没有找到组件实例。');\r\n                safeExecute(path, 'onLoad');\r\n                if (!isBrowser) {\r\n                    componentElement.ctx = this;\r\n                    componentElement.performUpdate(true);\r\n                }\r\n            });\r\n        },\r\n        detached() {\r\n            const path = getPath(id, { id: this.getPageId() });\r\n            Current.app.unmount(path, () => {\r\n                instances.delete(path);\r\n                if (componentElement) {\r\n                    componentElement.ctx = null;\r\n                }\r\n            });\r\n        },\r\n        methods: {\r\n            eh: eventHandler\r\n        }\r\n    };\r\n    if (!isUndefined(data)) {\r\n        config.data = data;\r\n    }\r\n    config['options'] = (_a = component === null || component === void 0 ? void 0 : component['options']) !== null && _a !== void 0 ? _a : EMPTY_OBJ;\r\n    config['externalClasses'] = (_b = component === null || component === void 0 ? void 0 : component['externalClasses']) !== null && _b !== void 0 ? _b : EMPTY_OBJ;\r\n    config['behaviors'] = (_c = component === null || component === void 0 ? void 0 : component['behaviors']) !== null && _c !== void 0 ? _c : EMPTY_OBJ;\r\n    return config;\r\n}\r\nexport function createRecursiveComponentConfig(componentName) {\r\n    return {\r\n        properties: {\r\n            i: {\r\n                type: Object,\r\n                value: {\r\n                    [\"nn\" /* NodeName */]: 'view'\r\n                }\r\n            },\r\n            l: {\r\n                type: String,\r\n                value: ''\r\n            }\r\n        },\r\n        options: {\r\n            addGlobalClass: true,\r\n            virtualHost: componentName !== 'custom-wrapper'\r\n        },\r\n        methods: {\r\n            eh: eventHandler\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=common.js.map","references":["/Users/inoccent/github/taro-hooks/node_modules/@tarojs/shared/dist/index.d.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/container/index.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/constants/identifiers.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom/event.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/current.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/bom/document.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/utils/index.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/perf.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/constants/index.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/env.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/emitter/emitter.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/bom/raf.ts","/Users/inoccent/github/taro-hooks/node_modules/@tarojs/taro/types/index.d.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dsl/instance.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/interface/index.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom/root.ts"],"map":"{\"version\":3,\"file\":\"common.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/dsl/common.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/inoccent/github/taro-hooks/packages/taro-runtime/node_modules/.cache/rollup-plugin-typescript2/placeholder/dsl/common.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\nimport { eventHandler } from '../dom/event';\r\nimport type { PageConfig } from '@tarojs/taro';\r\nimport type { Instance, PageInstance, PageProps } from './instance';\r\nexport declare function injectPageInstance(inst: Instance<PageProps>, id: string): void;\r\nexport declare function getPageInstance(id: string): Instance | undefined;\r\nexport declare function addLeadingSlash(path?: string): string;\r\nexport declare function safeExecute(path: string, lifecycle: keyof PageInstance, ...args: unknown[]): any;\r\nexport declare function stringify(obj?: Record<string, unknown>): string;\r\nexport declare function getPath(id: string, options?: Record<string, unknown>): string;\r\nexport declare function getOnReadyEventKey(path: string): string;\r\nexport declare function getOnShowEventKey(path: string): string;\r\nexport declare function getOnHideEventKey(path: string): string;\r\nexport declare function createPageConfig(component: any, pageName?: string, data?: Record<string, unknown>, pageConfig?: PageConfig): PageInstance;\r\nexport declare function createComponentConfig(component: React.ComponentClass, componentName?: string, data?: Record<string, unknown>): any;\r\nexport declare function createRecursiveComponentConfig(componentName?: string): {\r\n    properties: {\r\n        i: {\r\n            type: ObjectConstructor;\r\n            value: {\r\n                nn: string;\r\n            };\r\n        };\r\n        l: {\r\n            type: StringConstructor;\r\n            value: string;\r\n        };\r\n    };\r\n    options: {\r\n        addGlobalClass: boolean;\r\n        virtualHost: boolean;\r\n    };\r\n    methods: {\r\n        eh: typeof eventHandler;\r\n    };\r\n};\r\n"}}
