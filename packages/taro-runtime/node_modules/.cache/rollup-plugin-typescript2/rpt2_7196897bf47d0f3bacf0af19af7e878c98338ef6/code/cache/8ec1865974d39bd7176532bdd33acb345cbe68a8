{"code":"import { createEvent } from '../dom/event';\r\nimport { isBrowser, doc } from '../env';\r\nimport ioc_container from '../container';\r\nimport SERVICE_IDENTIFIER from '../constants/identifiers';\r\nimport { ElementNames } from '../interface';\r\nimport { HTML, HEAD, BODY, APP, CONTAINER } from '../constants';\r\nexport function createDocument() {\r\n    /**\r\n     * <document>\r\n     *   <html>\r\n     *     <head></head>\r\n     *     <body>\r\n     *       <container>\r\n     *         <app id=\"app\" />\r\n     *       </container>\r\n     *     </body>\r\n     *   </html>\r\n     * </document>\r\n     */\r\n    const getElement = ioc_container.get(SERVICE_IDENTIFIER.TaroElementFactory);\r\n    const doc = getElement(ElementNames.Document)();\r\n    const documentCreateElement = doc.createElement.bind(doc);\r\n    const html = documentCreateElement(HTML);\r\n    const head = documentCreateElement(HEAD);\r\n    const body = documentCreateElement(BODY);\r\n    const app = documentCreateElement(APP);\r\n    app.id = APP;\r\n    const container = documentCreateElement(CONTAINER); // 多包一层主要为了兼容 vue\r\n    doc.appendChild(html);\r\n    html.appendChild(head);\r\n    html.appendChild(body);\r\n    body.appendChild(container);\r\n    container.appendChild(app);\r\n    doc.documentElement = html;\r\n    doc.head = head;\r\n    doc.body = body;\r\n    doc.createEvent = createEvent;\r\n    return doc;\r\n}\r\nexport const document = (isBrowser ? doc : createDocument());\r\n//# sourceMappingURL=document.js.map","references":["/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom/event.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/env.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/container/index.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/constants/identifiers.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/interface/index.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/constants/index.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/interface/index.ts"],"map":"{\"version\":3,\"file\":\"document.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/bom/document.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAA;AAC1C,OAAO,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,QAAQ,CAAA;AACvC,OAAO,aAAa,MAAM,cAAc,CAAA;AACxC,OAAO,kBAAkB,MAAM,0BAA0B,CAAA;AACzD,OAAO,EAAE,YAAY,EAAwB,MAAM,cAAc,CAAA;AACjE,OAAO,EACL,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,GAAG,EACH,SAAS,EACV,MAAM,cAAc,CAAA;AAIrB,MAAM,UAAU,cAAc;IAC5B;;;;;;;;;;;OAWG;IACH,MAAM,UAAU,GAAG,aAAa,CAAC,GAAG,CAAuB,kBAAkB,CAAC,kBAAkB,CAAC,CAAA;IACjG,MAAM,GAAG,GAAG,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC,EAA0B,CAAA;IACvE,MAAM,qBAAqB,GAAG,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;IACzD,MAAM,IAAI,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAA;IACxC,MAAM,IAAI,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAA;IACxC,MAAM,IAAI,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAA;IACxC,MAAM,GAAG,GAAG,qBAAqB,CAAC,GAAG,CAAC,CAAA;IACtC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAA;IACZ,MAAM,SAAS,GAAG,qBAAqB,CAAC,SAAS,CAAC,CAAA,CAAC,iBAAiB;IAEpE,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;IACrB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;IACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;IACtB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAA;IAC3B,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;IAE1B,GAAG,CAAC,eAAe,GAAG,IAAI,CAAA;IAC1B,GAAG,CAAC,IAAI,GAAG,IAAI,CAAA;IACf,GAAG,CAAC,IAAI,GAAG,IAAI,CAAA;IACf,GAAG,CAAC,WAAW,GAAG,WAAW,CAAA;IAE7B,OAAO,GAAG,CAAA;AACZ,CAAC;AAED,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,cAAc,EAAE,CAAyB,CAAA\"}","dts":{"name":"/Users/inoccent/github/taro-hooks/packages/taro-runtime/node_modules/.cache/rollup-plugin-typescript2/placeholder/bom/document.d.ts","writeByteOrderMark":false,"text":"import type { TaroDocumentInstance } from '../interface';\r\nexport declare function createDocument(): TaroDocumentInstance;\r\nexport declare const document: TaroDocumentInstance;\r\n"}}
