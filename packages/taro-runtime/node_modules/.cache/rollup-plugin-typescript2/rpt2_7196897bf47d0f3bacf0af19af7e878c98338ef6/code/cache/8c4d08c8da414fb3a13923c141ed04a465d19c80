{"code":"import { defaultReconciler, isArray } from '@tarojs/shared';\r\nimport SERVICE_IDENTIFIER from '../constants/identifiers';\r\nexport default function processPluginHooks(container) {\r\n    const keys = Object.keys(defaultReconciler);\r\n    keys.forEach(key => {\r\n        if (key in SERVICE_IDENTIFIER) {\r\n            // is hooks\r\n            const identifier = SERVICE_IDENTIFIER[key];\r\n            const fn = defaultReconciler[key];\r\n            if (isArray(fn)) {\r\n                // is multi\r\n                fn.forEach(item => container.bind(identifier).toFunction(item));\r\n            }\r\n            else {\r\n                if (container.isBound(identifier)) {\r\n                    // 之前有绑定过，需要重新绑定以覆盖前者\r\n                    container.rebind(identifier).toFunction(fn);\r\n                }\r\n                else {\r\n                    container.bind(identifier).toFunction(fn);\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n//# sourceMappingURL=plugin-hooks.js.map","references":["/Users/inoccent/github/taro-hooks/node_modules/@tarojs/shared/dist/index.d.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/constants/identifiers.ts","/Users/inoccent/github/taro-hooks/node_modules/inversify/lib/inversify.d.ts"],"map":"{\"version\":3,\"file\":\"plugin-hooks.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/container/plugin-hooks.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,iBAAiB,EAAE,OAAO,EAAE,MAAM,gBAAgB,CAAA;AAC3D,OAAO,kBAAkB,MAAM,0BAA0B,CAAA;AAIzD,MAAM,CAAC,OAAO,UAAU,kBAAkB,CAAE,SAAoB;IAC9D,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA;IAC3C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;QACjB,IAAI,GAAG,IAAI,kBAAkB,EAAE;YAC7B,WAAW;YACX,MAAM,UAAU,GAAG,kBAAkB,CAAC,GAAG,CAAC,CAAA;YAC1C,MAAM,EAAE,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAA;YAEjC,IAAI,OAAO,CAAC,EAAE,CAAC,EAAE;gBACf,WAAW;gBACX,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAA;aAChE;iBAAM;gBACL,IAAI,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;oBACjC,qBAAqB;oBACrB,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAA;iBAC5C;qBAAM;oBACL,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAA;iBAC1C;aACF;SACF;IACH,CAAC,CAAC,CAAA;AACJ,CAAC\"}","dts":{"name":"/Users/inoccent/github/taro-hooks/packages/taro-runtime/node_modules/.cache/rollup-plugin-typescript2/placeholder/container/plugin-hooks.d.ts","writeByteOrderMark":false,"text":"import type { Container } from 'inversify';\r\nexport default function processPluginHooks(container: Container): void;\r\n"}}
