{"code":"import { Current } from './current';\r\nimport { getPath } from './dsl/common';\r\nimport { document } from './bom/document';\r\nimport { isBrowser } from './env';\r\nfunction removeLeadingSlash(path) {\r\n    if (path == null) {\r\n        return '';\r\n    }\r\n    return path.charAt(0) === '/' ? path.slice(1) : path;\r\n}\r\nexport const nextTick = (cb, ctx) => {\r\n    var _a, _b, _c;\r\n    const router = Current.router;\r\n    const timerFunc = () => {\r\n        setTimeout(function () {\r\n            ctx ? cb.call(ctx) : cb();\r\n        }, 1);\r\n    };\r\n    if (router !== null) {\r\n        let pageElement = null;\r\n        const path = getPath(removeLeadingSlash(router.path), router.params);\r\n        pageElement = document.getElementById(path);\r\n        if (pageElement !== null) {\r\n            if (isBrowser) {\r\n                // eslint-disable-next-line dot-notation\r\n                (_c = (_b = (_a = pageElement.firstChild) === null || _a === void 0 ? void 0 : _a['componentOnReady']) === null || _b === void 0 ? void 0 : _b.call(_a).then(() => {\r\n                    timerFunc();\r\n                })) !== null && _c !== void 0 ? _c : timerFunc();\r\n            }\r\n            else {\r\n                pageElement.enqueueUpdateCallback(cb, ctx);\r\n            }\r\n        }\r\n        else {\r\n            timerFunc();\r\n        }\r\n    }\r\n    else {\r\n        timerFunc();\r\n    }\r\n};\r\n//# sourceMappingURL=next-tick.js.map","references":["/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/current.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dsl/common.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/dom/root.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/bom/document.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/env.ts","/Users/inoccent/github/taro-hooks/packages/taro-runtime/src/interface/index.ts"],"map":"{\"version\":3,\"file\":\"next-tick.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/next-tick.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,WAAW,CAAA;AACnC,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAA;AAEtC,OAAO,EAAE,QAAQ,EAAE,MAAM,gBAAgB,CAAA;AACzC,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAA;AAIjC,SAAS,kBAAkB,CAAE,IAAa;IACxC,IAAI,IAAI,IAAI,IAAI,EAAE;QAChB,OAAO,EAAE,CAAA;KACV;IACD,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAA;AACtD,CAAC;AAED,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAC,EAAQ,EAAE,GAAyB,EAAE,EAAE;;IAC9D,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAA;IAC7B,MAAM,SAAS,GAAG,GAAG,EAAE;QACrB,UAAU,CAAC;YACT,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAA;QAC3B,CAAC,EAAE,CAAC,CAAC,CAAA;IACP,CAAC,CAAA;IAED,IAAI,MAAM,KAAK,IAAI,EAAE;QACnB,IAAI,WAAW,GAA2B,IAAI,CAAA;QAC9C,MAAM,IAAI,GAAG,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA;QACpE,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAkB,IAAI,CAAC,CAAA;QAC5D,IAAI,WAAW,KAAK,IAAI,EAAE;YACxB,IAAI,SAAS,EAAE;gBACb,wCAAwC;gBACxC,MAAA,MAAA,MAAA,WAAW,CAAC,UAAU,0CAAG,kBAAkB,CAAC,mDAAK,IAAI,CAAC,GAAG,EAAE;oBACzD,SAAS,EAAE,CAAA;gBACb,CAAC,CAAC,mCAAI,SAAS,EAAE,CAAA;aAClB;iBAAM;gBACL,WAAW,CAAC,qBAAqB,CAAC,EAAE,EAAE,GAAG,CAAC,CAAA;aAC3C;SACF;aAAM;YACL,SAAS,EAAE,CAAA;SACZ;KACF;SAAM;QACL,SAAS,EAAE,CAAA;KACZ;AACH,CAAC,CAAA\"}","dts":{"name":"/Users/inoccent/github/taro-hooks/packages/taro-runtime/node_modules/.cache/rollup-plugin-typescript2/placeholder/next-tick.d.ts","writeByteOrderMark":false,"text":"import type { Func } from './interface';\r\nexport declare const nextTick: (cb: Func, ctx?: Record<string, any> | undefined) => void;\r\n"}}
